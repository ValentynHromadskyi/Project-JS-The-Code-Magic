{"version":3,"file":"modal-38b3288a.js","sources":["../../src/js/api.js","../../src/js/filters.js","../../src/js/prodacts-list.js","../../src/js/popular-prodacts.js","../../src/js/discount.js","../../src/js/modal.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://food-boutique.b.goit.study/api\";\n\n\n// Перелік категорій продуктів\n\nexport async function getProductsCategories() {\n    try {\n        const categories = await axios.get(`${BASE_URL}/products/categories`)\n        return categories;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\ngetProductsCategories().then(categories => console.log(categories));\n\n// Детальна інформація про продукт (ID)\n\nexport async function getProductById(id) {\n    try {\n        const response = await axios.get(`${BASE_URL}/products/${id}`);\n        return response.data;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\nlet productId = \"640c2dd963a319ea671e3676\";\ngetProductById(productId).then(product => console.log(product));\n\n// Перелік популярних продуктів\n\nexport async function getPopularProduct() {\n    try {\n        const popularProducts = await axios.get(`${BASE_URL}/products/popular?limit=5`)\n        return popularProducts;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\ngetPopularProduct().then(product => console.log(product));\n\n// Перелік продуктів зі знижкою\n\nexport async function getDiskountProduct() {\n    try {\n        const diskountProduct = await axios.get(`${BASE_URL}/products/discount`);\n        return diskountProduct;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\ngetDiskountProduct().then(product => console.log(product));\n\n// Перелік продуктів з фільтрацією\n\nexport async function getFilteredProduct({\n    keyword,\n    category,\n    byABC = true,\n    byPrice = false,\n    byPopularity = false,\n    page = 1,\n    limit = 6,\n}) {\n    try {\n        const params = new URLSearchParams({\n    category,\n    byABC: byABC ? \"true\" : \"false\",\n    byPrice: byPrice ? \"true\" : \"false\",\n    byPopularity: byPopularity ? \"true\" : \"false\",\n    page,\n    limit,\n        })\n        if (keyword) {\n            params.append(\"keyword\", keyword);\n        }\n        const response = await axios.get(`${BASE_URL}/products?${params}`);\n        return response.data;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\nconst filters = {\n    category: \"Fresh_Produce\",\n    byABC: true,\n    byPrice: false,\n    byPopularity: false,\n    page: 1,\n    limit: 6,\n}\n\ngetFilteredProduct(filters).then(product => console.log(product));\n\n// Оформлення підписки на розсилку нових продуків\n\nconst emailToAdd = {\n    email: \"ssss@Comment.ua\",\n};\n\nexport async function postSubscription(data) {\n    const response = await axios.post(`${BASE_URL}/subscription`, data);\n    return response.data;\n} \n// --перевірка запита\npostSubscription(emailToAdd).then(data => console.log(data)).catch(error => console.log(error.message));\n\n// Оформлення замовлення продуктів\n\nexport async function postOrders(data) {\n    const response = await axios.post(`${BASE_URL}/orders`, data);\n    return response.data;\n}\n// --перевірка запита\nconst orderToAdd = {\n    email: \"ssss@Comment.ua\",\n    products: [{\n        \"productId\": \"640c2dd963a319ea671e383b\",\n        \"amount\": 2\n        }]\n    };\npostOrders(orderToAdd).then(data => console.log(data)); \n\n","import { getProductsCategories, getFilteredProduct } from './api.js';\n\nconst refs = {\n  filterCatList: document.querySelector('.filters-categories'),\n  form: document.getElementById('fiters-form'),\n  filtersInput: document.querySelector('.filters-input'),\n  filtersCategories: document.querySelector('.filters-categories'),\n};\n\nrefs.form.addEventListener('submit', handleFiltersSubmit);\nloadCategories();\n\nasync function loadCategories() {\n  try {\n    const categoriesList = await getProductsCategories();\n    const data = categoriesList.data;\n    for (let i = 0; i < data.length; i++) {\n      // заміна \"_\" на \" \"\n      let result = replaceUnderscoresWithSpaces(data[i]);\n\n      refs.filterCatList.insertAdjacentHTML(\n        'beforeend',\n        `<option  class=\"filters-categories-option\" value=\"${result}\">${result}</option>`\n      );\n    }\n  } catch (error) {\n    console.log('err');\n  }\n}\n\nconst localvalue = { keyword: null, category: null, page: 1, limit: 6 };\n\nasync function handleFiltersSubmit(event) {\n  const filtersValue = refs.filtersInput.value;\n  localvalue.keyword = filtersValue;\n  if (filtersValue === '') {\n    localvalue.keyword = null;\n  }\n  const filtersCatValue = refs.filtersCategories.value;\n  localvalue.category = filtersCatValue;\n  if (filtersCatValue === '') {\n    localvalue.category = null;\n  }\n  localStorage.setItem('filters', JSON.stringify(localvalue));\n\n  const filters = {\n    keyword: filtersValue,\n    category: filtersCatValue,\n    byABC: true,\n    byPrice: false,\n    byPopularity: false,\n    page: 1,\n    limit: 6,\n  };\n}\n\nchangeForm();\n\nfunction changeForm() {\n  const filtersParce = JSON.parse(localStorage.getItem('filters'));\n  refs.filtersInput.value = filtersParce.keyword;\n  refs.filtersCategories.value = filtersParce.category;\n}\n\nexport function replaceUnderscoresWithSpaces(inputString) {\n  let outputString = inputString.replace(/_/g, ' ');\n  return outputString;\n}\n","import { getFilteredProduct } from \"./api\";\n\n\n\n\n// функція для отримання продуктів з сервера\nasync function getProductsList(keyword, category, page = 1, limit = 6) {\n  const url = `https://food-boutique.b.goit.study/api/products?keyword=${keyword}&category=${category}&page=${page}&limit=${limit}`;\n\n  try {\n    const response = await fetch(url);\n    const products = await response.json();\n    return products.results;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n    return [];\n  }\n}\n\n// Функція для визначення ліміту в залежності від розміру екрану\n\nfunction getLimit() {\n  const screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n  if (screenWidth >= 1440) {\n    return 9;\n  } else if (screenWidth >= 768) {\n    return 8;\n  } else {\n    return 6; // значення за замовчуванням\n  }\n}\n\n//картка продукта\n\n\nfunction renderProductCard(data) {\n  return `\n    <div class=\"productlist-card\" data-productlist-id=\"${data._id}\">\n      <div class=\"productlist-background\">\n        <img src=\"${data.img}\" alt=\"${data.name}\" class=\"product-image\">\n      </div>\n      <div class=\"productlist-details\">\n        <div class=\"productlist-details-text\">\n          <h2 class=\"productlist-name\">${data.name}</h2>\n          <div class=\"pl-det\">\n          \n          <div class=\"category-cont\">\n          <p class=\"productlist-category\">Category:\n          <span class=\"word\">${data.category}</span></p>\n\n          <p class=\"productlist-size\">Size:\n          <span class=\"word\">${data.size}</span></p>\n          </div>\n\n          <div class=\"popularity-cont\">\n          <p class=\"productlist-popularity\">Popularity:\n          <span class=\"word\">${data.popularity}</span></p>\n          </div>\n\n          </div>\n          <div class=\"price-icon\">\n          <p class=\"productlist-price\">$${data.price.toFixed(2)}</p>\n          <div class=\"price-icon-cont\">\n          <svg class=\"productlist-icon\" width=\"18\" height=\"18\">\n            <use href=\"../icons.svg#icon-shopping-cart\"></use>\n          </svg>\n          </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n}\n  \nconst refs = {\n  filterCatList: document.querySelector('.filters-categories'),\n  form: document.getElementById('fiters-form'),\n  filtersInput: document.querySelector('.filters-input'),\n  filtersCategories: document.querySelector('.filters-categories'),\n};\n\nrefs.filterCatList.addEventListener(\"change\", changeFilter)\n\n\nasync function changeFilter(event) {\n  let category = event.target.value;\n  const filters = {\n    category: category,\n    byABC: true,\n    byPrice: false,\n    byPopularity: false,\n    page: 1,\n    limit: 6,\n  };\n\n  try {\n    const result = await getFilteredProduct(filters);\n    const data = result.results\n\n    console.log(data);\n\n    const productList = document.getElementById('productList');\n    productList.innerHTML = '';\n\n    data.forEach(product => {\n      productList.innerHTML += renderProductCard(product);\n    });\n\n    const totalPages = Math.ceil(result.total / filters.limit);\n    renderPagination(totalPages, filters.page);\n  } catch (error) {\n    console.error('Произошла ошибка:', error);\n  }\n}\n  \nasync function fetchAndRenderProducts(page = 1) {\n  const keyword = '';\n  const category = '';\n  const limit = getLimit();\n\n  try {\n    const response = await getProductsList(keyword, category, page, limit);\n    const products = response;\n\n    const productList = document.getElementById('productList');\n    productList.innerHTML = '';\n\n    products.forEach(product => {\n      productList.innerHTML += renderProductCard(product);\n    });\n\n    const totalPages = Math.ceil(response.total / limit);\n    renderPagination(totalPages, page);\n  } catch (error) {\n    console.error('Помилка:', error);\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchAndRenderProducts();\n});\n\n// функция для смены страницы\nwindow.changePage = function(page) {\n  fetchAndRenderProducts(page);\n};\n\nwindow.addEventListener('resize', fetchAndRenderProducts);\n\n// подключение файла пагинации\nvar script = document.createElement('script');\nscript.src = '/js/pagination.js';\ndocument.head.appendChild(script);\n\n","import { getPopularProduct } from './api.js';\n// async function getPopularProduct() {\n//   try {\n//     const popularProducts = await axios.get(\n//       `${BASE_URL}/products/popular?limit=5`\n//     );\n//     return popularProducts;\n//   } catch (error) {\n//     console.log(error.message);\n//   }\n// }\n// --перевірка запита\ngetPopularProduct().then(product => console.log(product));\n","function getRandomProducts(products, count) {\n  const shuffledProducts = products.sort(() => 0.5 - Math.random());\n  return shuffledProducts.slice(0, count);\n}\n\nimport { getDiskountProduct } from './api';\n\n  function renderDiscountProductCard(product) {\n    return `\n      <div class=\"product-card\">\n        <div class=\"product-background\">\n\n        <div class=\"discount-label\">\n      <svg class=\"dicount-label-icon\">\n      <use href=\"../icons.svg#icon-discount\"></use>\n      </svg>\n      </div>\n\n          <img src=\"${product.img}\" alt=\"${product.name}\" class=\"product-image\">\n        </div>\n        <div class=\"product-details\">\n          <div class=\"details-text\">\n\n          <div class=\"name-price\">\n          <h2 class=\"product-name\">${product.name}</h2>\n          <p class=\"product-price\">$${product.price.toFixed(2)}</p>\n          </div>\n\n          <div class=\"discount-icon-cont\">\n          <svg class=\"discount-icon\" width=\"34\" height=\"34\">\n            <use href=\"../icons.svg#icon-heroicons-solid_shopping-cart\"></use>\n          </svg>\n          </div>\n\n        </div>\n      </div>\n    `;\n  }\n  \nasync function renderDiscountProducts() {\n  try {\n    const products = await getDiskountProduct();\n\n    // Перевірте, чи products - це масив\n    if (!Array.isArray(products)) {\n      console.error(\"Невірний формат даних: Очікувався масив.\");\n      return;\n    }\n\n    // Перевірте, чи масив products не порожній\n    if (products.length === 0) {\n      console.warn(\"Немає доступних товарів зі знижкою.\");\n      return;\n    }\n\n    const randomProducts = getRandomProducts(products, 2);\n    const discountContainer = document.getElementById('discountContainer');\n\n    const fragment = document.createDocumentFragment();\n    randomProducts.forEach(product => {\n      fragment.appendChild(renderDiscountProductCard(product));\n    });\n\n    discountContainer.appendChild(fragment);\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\n// Fetch discount products and render them\ngetDiskountProduct()\n  .then(response => response.data)\n  .then(products => {\n    const randomProducts = getRandomProducts(products, 2);\n    const discountContainer = document.getElementById('discountContainer');\n\n    randomProducts.forEach(product => {\n      discountContainer.innerHTML += renderDiscountProductCard(product);\n    });\n  })\n  .catch(error => {\n    console.error(error.message);\n  });","import { getProductById } from './api.js';\n\nexport function addToCart(id) {\n  try {\n    if (localStorage.getItem(id)) {\n      localStorage.removeItem(id);\n    } else {\n      localStorage.setItem(id, JSON.stringify(id));\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nasync function getProduct(id, btn) {\n  const modalContent = document.querySelector('.modal-content');\n  modalContent.innerHTML = '';\n  const product = await getProductById(id);\n  modalContent.innerHTML = renderModalContent(product, btn);\n}\n\nfunction renderModalContent(product, btn) {\n  return `\n    <div class=\"modal-product-img\">\n      <img src=\"${product.img}\" alt=\"${product.name}\" />\n    </div>\n    <div class=\"modal-product-info\">\n        <h4 class=\"modal-product-title\">${product.name}</h4>\n      <div class=\"modal-product-characteristics\">\n        <div>Category: <span>${product.category}</span></div>\n        <div>Size: <span>${product.size}</span></div>\n        <div>Popularity: <span>${product.popularity}</span></div>\n      </div>\n      <p class=\"modal-product-description\">\n      ${product.desc}\n      </p>\n    </div>\n    <div class=\"modal-product-price\">$${product.price.toFixed(2)}</div>\n    <button class=\"modal-product-button\" data-productlist-id=\"${\n      product._id\n    }\"> ${btn}<svg class=\"modal-product-button-icon\">\n    <use class=\"modal-product-button-icon\" href=\"./icons.svg#icon-heroicons-solid_shopping-cart\"></use>\n  </svg></button>\n    `;\n}\n\nconst modal = document.querySelector('.modal');\nconst closeButton = document.querySelector('.close-button');\n\nfunction openModal() {\n  modal.classList.add('show-modal');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeModal() {\n  modal.classList.remove('show-modal');\n  document.body.style.overflow = 'auto';\n}\n\ndocument.addEventListener('click', function (e) {\n  if (!e.target.classList.contains('productlist-card')) {\n    return;\n  }\n  const id = e.target.dataset.productlistId;\n\n  if (localStorage.getItem(id)) {\n    getProduct(id, 'Remove from');\n  } else {\n    getProduct(id, 'Add to');\n  }\n\n  openModal();\n});\n\nfunction windowOnClick(event) {\n  if (event.target === modal) {\n    closeModal();\n  }\n}\n\ncloseButton.addEventListener('click', closeModal);\nwindow.addEventListener('click', windowOnClick);\n\ndocument.addEventListener('keydown', function (e) {\n  if (e.keyCode === 27) closeModal();\n});\n\ndocument.addEventListener('click', function (e) {\n  if (!e.target.classList.contains('modal-product-button')) {\n    return;\n  }\n  const id = e.target.dataset.productlistId;\n\n  e.target.addEventListener('click', addToCart(id));\n  e.target.addEventListener('click', closeModal());\n});\n"],"names":["BASE_URL","getProductsCategories","axios","error","categories","getProductById","id","productId","product","getPopularProduct","getDiskountProduct","getFilteredProduct","keyword","category","byABC","byPrice","byPopularity","page","limit","params","filters","emailToAdd","postSubscription","data","postOrders","orderToAdd","refs","handleFiltersSubmit","loadCategories","i","result","replaceUnderscoresWithSpaces","localvalue","event","filtersValue","filtersCatValue","changeForm","filtersParce","inputString","getProductsList","url","getLimit","screenWidth","renderProductCard","changeFilter","productList","totalPages","fetchAndRenderProducts","response","products","script","getRandomProducts","count","renderDiscountProductCard","randomProducts","discountContainer","addToCart","getProduct","btn","modalContent","renderModalContent","modal","closeButton","openModal","closeModal","e","windowOnClick"],"mappings":"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"}