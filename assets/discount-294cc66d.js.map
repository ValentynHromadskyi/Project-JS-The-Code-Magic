{"version":3,"file":"discount-294cc66d.js","sources":["../../src/js/api.js","../../src/js/filters.js","../../src/js/prodacts-list.js","../../src/js/popular-prodacts.js","../../src/js/discount.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://food-boutique.b.goit.study/api\";\n\n\n// Перелік категорій продуктів\n\nexport async function getProductsCategories() {\n    try {\n        const categories = await axios.get(`${BASE_URL}/products/categories`)\n        return categories;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\ngetProductsCategories().then(categories => console.log(categories));\n\n// Детальна інформація про продукт (ID)\n\nexport async function getProductById(id) {\n    try {\n        const response = await axios.get(`${BASE_URL}/products/${id}`);\n        return response.data;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\nlet productId = \"640c2dd963a319ea671e3676\";\ngetProductById(productId).then(product => console.log(product));\n\n// Перелік популярних продуктів\n\nexport async function getPopularProduct() {\n    try {\n        const popularProducts = await axios.get(`${BASE_URL}/products/popular?limit=5`)\n        return popularProducts;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\ngetPopularProduct().then(product => console.log(product));\n\n// Перелік продуктів зі знижкою\n\nexport async function getDiskountProduct() {\n    try {\n        const diskountProduct = await axios.get(`${BASE_URL}/products/discount`);\n        return diskountProduct;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\ngetDiskountProduct().then(product => console.log(product));\n\n// Перелік продуктів з фільтрацією\n\nexport async function getFilteredProduct({\n    keyword,\n    category,\n    byABC = true,\n    byPrice = false,\n    byPopularity = false,\n    page = 1,\n    limit = 6,\n}) {\n    try {\n        const params = new URLSearchParams({\n    keyword,\n    category,\n    byABC: byABC ? \"true\" : \"false\",\n    byPrice: byPrice ? \"true\" : \"false\",\n    byPopularity: byPopularity ? \"true\" : \"false\",\n    page,\n    limit,\n        })\n        if (keyword) {\n            params.append(\"keyword\", keyword);\n        }\n        const response = await axios.get(`${BASE_URL}/products?${params}`);\n        return response.data;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\nconst filters = {\n    category: \"Fresh_Produce\",\n    byABC: true,\n    byPrice: false,\n    byPopularity: false,\n    page: 1,\n    limit: 6,\n}\n\ngetFilteredProduct(filters).then(product => console.log(product));\n\n// Оформлення підписки на розсилку нових продуків\n\nconst emailToAdd = {\n    email: \"ssss@Comment.ua\",\n};\n\nexport async function postSubscription(data) {\n    const response = await axios.post(`${BASE_URL}/subscription`, data);\n    return response.data;\n} \n// --перевірка запита\npostSubscription(emailToAdd).then(data => console.log(data)).catch(error => console.log(error.message));\n\n// Оформлення замовлення продуктів\n\nexport async function postOrders(data) {\n    const response = await axios.post(`${BASE_URL}/orders`, data);\n    return response.data;\n}\n// --перевірка запита\nconst orderToAdd = {\n    email: \"ssss@Comment.ua\",\n    products: [{\n        \"productId\": \"640c2dd963a319ea671e383b\",\n        \"amount\": 2\n        }]\n    };\npostOrders(orderToAdd).then(data => console.log(data)); \n\n","import { getProductsCategories } from './api.js';\n\nconst refs = {\n  form: document.querySelector('.filters-categories'),\n};\n\nasync function loadCategories() {\n  try {\n    const categoriesList = await getProductsCategories();\n    const data = categoriesList.data;\n    for (let i = 0; i < data.length; i++) {\n      refs.form.insertAdjacentHTML(\n        'beforeend',\n        `<option value=\"value${[i + 1]}\">${data[i]}</option>`\n      );\n    }\n  } catch (error) {\n    console.log('err');\n  }\n}\n\nloadCategories();\n","// функція для отримання продуктів з сервера\n\nasync function getProductsList(keyword, category, page = 1, limit = 6) {\n  const url = `https://food-boutique.b.goit.study/api/products?keyword=${keyword}&category=${category}&page=${page}&limit=${limit}`;\n\n  try {\n    const response = await fetch(url);\n    const products = await response.json();\n    return products.results;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n    return [];\n  }\n}\n\n//картка продукта\n\nfunction renderProductCard(product) {\n  return `\n    <div class=\"productlist-card\" data-productlist-id=\"${product._id}\">\n      <div class=\"productlist-background\">\n        <img src=\"${product.img}\" alt=\"${product.name}\" class=\"product-image\">\n      </div>\n      <div class=\"productlist-details\">\n        <div class=\"productlist-details-text\">\n          <h2 class=\"productlist-name\">${product.name}</h2>\n          <div class=\"pl-det\">\n          <p class=\"productlist-category\">Category: <span class=\"word\">${product.category}</span></p>\n          <p class=\"productlist-size\">Size: <span class=\"word\">${product.size}</span></p>\n          <p class=\"productlist-popularity\">Popularity: <span class=\"word\">${product.popularity}</span></p>\n          </div>\n          <div class=\"price-icon\">\n          <p class=\"productlist-price\">$${product.price.toFixed(2)}</p>\n          <div class=\"price-icon-cont\">\n          <svg class=\"productlist-icon\" width=\"18\" height=\"18\">\n            <use href=\"./src/icons.svg#icon-shopping-cart\"></use>\n          </svg>\n          </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\nasync function main() {\n  const keyword = 'Ac'; // Ваш ключовий запит\n  const category = 'Fresh_Produce'; // Ваша обрана категорія\n  const page = 1; // Значення сторінки пагінації\n  const limit = 6; // Ліміт кількості продуктів на сторінці\n\n  try {\n    const products = await getProductsList(keyword, category, page, limit);\n\n    const productList = document.getElementById('productList');\n    products.forEach(product => {\n      productList.innerHTML += renderProductCard(product);\n    });\n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\n\n// Викликаємо головну функцію при завантаженні сторінки\ndocument.addEventListener('DOMContentLoaded', main);\n\n","import { getPopularProduct } from './api.js';\n// async function getPopularProduct() {\n//   try {\n//     const popularProducts = await axios.get(\n//       `${BASE_URL}/products/popular?limit=5`\n//     );\n//     return popularProducts;\n//   } catch (error) {\n//     console.log(error.message);\n//   }\n// }\n// --перевірка запита\ngetPopularProduct().then(product => console.log(product));\n","function getRandomProducts(products, count) {\n  const shuffledProducts = products.sort(() => 0.5 - Math.random());\n  return shuffledProducts.slice(0, count);\n}\n\nimport { getDiskountProduct } from './api';\n\n  function renderDiscountProductCard(product) {\n    return `\n      <div class=\"product-card\">\n        <div class=\"product-background\">\n          <img src=\"${product.img}\" alt=\"${product.name}\" class=\"product-image\">\n        </div>\n        <div class=\"product-details\">\n          <div class=\"details-text\">\n          <h2 class=\"product-name\">${product.name}</h2>\n          <p class=\"product-price\">$${product.price.toFixed(2)}</p>\n          <div>\n          <svg class=\"cart-icon\" width=\"34\" height=\"34\">\n            <use href=\"./src/icons.svg#icon-heroicons-solid_shopping-cart\"></use>\n          </svg>\n          </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n  \nasync function renderDiscountProducts() {\n  try {\n    const products = await getDiskountProduct();\n    const randomProducts = getRandomProducts(products, 2);\n    const discountContainer = document.getElementById('discountContainer');\n\n    const fragment = document.createDocumentFragment();\n    randomProducts.forEach(product => {\n      fragment.appendChild(renderDiscountProductCard(product));\n    });\n\n    discountContainer.appendChild(fragment);\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\nrenderDiscountProducts();\n\n// Fetch discount products and render them\ngetDiskountProduct()\n  .then(response => response.data)\n  .then(products => {\n    const randomProducts = getRandomProducts(products, 2);\n    const discountContainer = document.getElementById('discountContainer');\n\n    randomProducts.forEach(product => {\n      discountContainer.innerHTML += renderDiscountProductCard(product);\n    });\n  })\n  .catch(error => {\n    console.error(error.message);\n  });"],"names":["BASE_URL","getProductsCategories","axios","error","categories","getProductById","id","productId","product","getPopularProduct","getDiskountProduct","getFilteredProduct","keyword","category","byABC","byPrice","byPopularity","page","limit","params","filters","emailToAdd","postSubscription","data","postOrders","orderToAdd","refs","loadCategories","i","getProductsList","url","renderProductCard","main","products","productList","getRandomProducts","count","renderDiscountProductCard","renderDiscountProducts","randomProducts","discountContainer","fragment","response"],"mappings":"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"}