{"version":3,"file":"main-6b754c28.js","sources":["../../src/js/api.js","../../src/js/footer.js","../../src/js/filters.js","../../src/js/prodacts-list.js","../../src/js/popular-prodacts.js","../../src/js/discount.js","../../src/js/modal.js","../../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://food-boutique.b.goit.study/api\";\n\n\n// Перелік категорій продуктів\n\nexport async function getProductsCategories() {\n    try {\n        const categories = await axios.get(`${BASE_URL}/products/categories`)\n        return categories;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Детальна інформація про продукт (ID)\n\nexport async function getProductById(id) {\n    try {\n        const response = await axios.get(`${BASE_URL}/products/${id}`);\n        return response.data;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n// Перелік популярних продуктів\n\nexport async function getPopularProduct() {\n    try {\n        const popularProducts = await axios.get(`${BASE_URL}/products/popular?limit=5`)\n        return popularProducts;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Перелік продуктів зі знижкою\n\nexport async function getDiskountProduct() {\n    try {\n        const diskountProduct = await axios.get(`${BASE_URL}/products/discount`);\n        return diskountProduct;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Перелік продуктів з фільтрацією\n\nexport async function getFilteredProduct({\n    keyword,\n    category,\n    byABC = true,\n    byPrice = false,\n    byPopularity = false,\n    page = 1,\n    limit = 6,\n}) {\n    try {\n        const params = new URLSearchParams({\n    category,\n    byABC: byABC ? \"true\" : \"false\",\n    byPrice: byPrice ? \"true\" : \"false\",\n    byPopularity: byPopularity ? \"true\" : \"false\",\n    page,\n    limit,\n        })\n        if (keyword) {\n            params.append(\"keyword\", keyword);\n        }\n        const response = await axios.get(`${BASE_URL}/products?${params}`);\n        return response.data;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Оформлення підписки на розсилку нових продуків\n\nconst emailToAdd = {\n    email: \"ssss@Comment.ua\",\n};\n\nexport async function postSubscription(data) {\n    const response = await axios.post(`${BASE_URL}/subscription`, data);\n    return response.data;\n} \n\n\n// Оформлення замовлення продуктів\n\nexport async function postOrders(data) {\n    const response = await axios.post(`${BASE_URL}/orders`, data);\n    return response.data;\n}\n\n","import { postSubscription } from \"./api\";\n\nconst footerForm = document.querySelector('.foot-form');\nconst modalSubscription = document.querySelector('.modal-subscription');\nconst modalUnsubscription = document.querySelector('.modal-unsubscription');\nconst modalBackdrop = document.querySelector('.modal-backdrop');\nconst body = document.querySelector('.body');\nconst overflow = document.body.style.overflow;\n\nconst closeModal = event => {\n  const target = event.target;\n  if (target === modalSubscription || target.closest('.close')) {\n    modalSubscription.classList.remove('visible-modal');\n    setTimeout(() => modalSubscription.classList.add('visually-hidden'), 500);\n    modalBackdrop.classList.add('is-hidden');\n\n    document.removeEventListener('keydown', closeModal);\n    body.style.overflow = overflow;\n  }\n  if (target === modalUnsubscription || target.closest('.close')) {\n    modalUnsubscription.classList.remove('visible-modal');\n    setTimeout(() => modalUnsubscription.classList.add('visually-hidden'), 500);\n    modalBackdrop.classList.add('is-hidden');\n\n    document.removeEventListener('keydown', closeModal);\n    body.style.overflow = overflow;\n  }\n\n  if (event.key === 'Escape') {\n    closeModalOption();\n  }\n\n  if (target === modalBackdrop) {\n    closeModalOption();\n  }\n};\n\nconst openModalSub = () => {\n    modalUnsubscription.classList.add('visible-modal');\n    modalUnsubscription.classList.remove('visually-hidden');\n    modalBackdrop.classList.remove('is-hidden');\n    \n    document.addEventListener('keydown', closeModal);\n    body.style.overflow = 'hidden';\n};\n\nconst openModalUnsubscription = () => {\n    modalUnsubscription.classList.add('visible-modal');\n    modalUnsubscription.classList.remove('visually-hidden');\n    modalUnsubscription.classList.remove('is-hidden');\n    \n    document.addEventListener('keydown', closeModal);\n    body.style.overflow = 'hidden';\n};\n\nfunction showError() {\n  Swal.fire({\n    icon: 'error',\n    title: 'Oops...',\n    text: 'Something went wrong!',\n  });\n}\n\nconst handleSubscription = async email => {\n    const body = { email };\n\n    try {\n        const emailToAdd = await postSubscription(body);\n\n        openModalSub();\n        footerForm.reset();\n    } catch (err) {\n        if (err.response.data.message === 'Subscription already exists') {\n            openModalUnsubscription();\n        } else {\n            showError();\n        }\n    }\n};\n\nfunction handleSubmit(e) {\n    e.preventDefault();\n    const inputEmail = document.querySelector('.form-filed');\n    const email = inputEmail.ariaValueMax.trim();\n    handleSubscription(email);\n} \n\nfunction closeModalOption() {\n    modalSubscription.classList.remove('visible-modal');\n    setTimeout(() => modalSubscription.classList.add('visually-hidden'), 500);\n    modalBackdrop.classList.add('is-hidden');\n\n    modalUnsubscription.classList.remove('visible-modal');\n    setTimeout(() => modalUnsubscription.classList.add('visually-hidden'), 500);\n    modalBackdrop.classList.add('is-hidden');\n\n    document.removeEventListener('keydown', closeModal);\n    body.style.overflow = overflow;\n\n    formElem.addEventListener('submit', handleSubmit);\n    modalBackdrop.addEventListener('click', closeModal);\n}","  import { getProductsCategories } from './api.js';\n\n  const refs = {\n    filterCatList: document.querySelector('.filters-categories'),\n    form: document.getElementById('fiters-form'),\n    filtersInput: document.querySelector('.filters-input'),\n    filtersCategories: document.querySelector('.filters-categories'),\n  };\n  if (refs.form) {\n  refs.form.addEventListener('submit', handleFiltersSubmit);}\n  loadCategories();\n\n  async function loadCategories() {\n    try {\n      const categoriesList = await getProductsCategories();\n      const data = categoriesList.data;\n      for (let i = 0; i < data.length; i++) {\n        // заміна \"_\" на \" \"\n        let result = replaceUnderscoresWithSpaces(data[i]);\n\n        refs.filterCatList.insertAdjacentHTML(\n          'beforeend',\n          `<option class=\"filters-categories-option\" value=\"${result}\">${result}</option>`\n        );\n      }\n    } catch (error) {\n      console.log('err');\n    }\n  }\n\n  const localvalue = { keyword: null, category: null, page: 1, limit: 6 };\n\n  async function handleFiltersSubmit() {\n    const filtersValue = refs.filtersInput.value;\n    console.log(filtersValue)\n    localvalue.keyword = filtersValue;\n    if (filtersValue === '') {\n      localvalue.keyword = null;\n    }\n    const filtersCatValue = refs.filtersCategories.value;\n    localvalue.category = filtersCatValue;\n    if (filtersCatValue === '') {\n      localvalue.category = null;\n    }\n    localStorage.setItem('filters', JSON.stringify(localvalue));\n\n    const filters = {\n      keyword: filtersValue,\n      category: filtersCatValue,\n      byABC: true,\n      byPrice: false,\n      byPopularity: false,\n      page: 1,\n      limit: 6,\n    };\n  }\n\n  changeForm();\n\n  function changeForm() {\n    const filtersParce = JSON.parse(localStorage.getItem('filters'));\n    if (refs.filtersInput) {\n    refs.filtersInput.value = filtersParce.keyword || '';}\n    if (refs.filtersCategories) {\n    refs.filtersCategories.value = filtersParce.category || '';\n    }\n  }\n\n  export function replaceUnderscoresWithSpaces(inputString) {\n    let outputString = inputString.replace(/_/g, ' ');\n    return outputString;\n  }\n","import { getFilteredProduct } from \"./api\";\n\nimport { replaceUnderscoresWithSpaces } from './filters';\n\n\n// функція для отримання продуктів з сервера\n\nasync function getProductsList(keyword, category, page = 1, limit = 6) {\n  const url = `https://food-boutique.b.goit.study/api/products?keyword=${keyword}&category=${category}&page=${page}&limit=${limit}`;\n\n  try {\n    const response = await fetch(url);\n    const products = await response.json();\n    const totalPages = products.totalPages;\n    return products.results;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n    return [];\n  }\n}\n\nasync function getProduct(keyword, category, page = 1, limit = 6) {\n  const url = `https://food-boutique.b.goit.study/api/products?keyword=${keyword}&category=${category}&page=${page}&limit=${limit}`;\n\n  try {\n    const response = await fetch(url);\n    const products = await response.json();\n    const totalPages = products.totalPages;\n    return products;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n    return [];\n  }\n}\n\n// Функція для визначення ліміту в залежності від розміру екрану\n\nfunction getLimit() {\n  const screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n  if (screenWidth >= 1440) {\n    return 9;\n  } else if (screenWidth >= 768) {\n    return 8;\n  } else {\n    return 6; // значення за замовчуванням\n  }\n}\n\n//картка продукта\n\nfunction renderProductCard(data) {\n  let result = replaceUnderscoresWithSpaces(data.category);\n  return `\n    <div class=\"productlist-card\" data-productlist-id=\"${data._id}\">\n      <div class=\"productlist-background\">\n        <img src=\"${data.img}\" alt=\"${data.name}\" class=\"product-image\">\n      </div>\n      <div class=\"productlist-details\">\n        <div class=\"productlist-details-text\">\n          <h2 class=\"productlist-name\">${data.name}</h2>\n          <div class=\"pl-det\">\n          \n          <div class=\"cat-cont\">\n          <p class=\"productlist-category\">Category:\n          <span class=\"word\">${result}</span></p>\n\n          <p class=\"productlist-size\">Size:\n          <span class=\"word\">${data.size}</span></p>\n          </div>\n\n          <div class=\"popularity-cont\">\n          <p class=\"productlist-popularity\">Popularity:\n          <span class=\"word\">${data.popularity}</span></p>\n          </div>\n\n          </div>\n          <div class=\"price-icon\">\n          <p class=\"productlist-price\">$${data.price.toFixed(2)}</p>\n          <div id=\"${data._id}\" class=\"price-icon-cont inBascet\">\n          <svg class=\"productlist-icon\" width=\"18\" height=\"18\">\n            <use href=\"./icons.svg#icon-shopping-cart\"></use>\n          </svg>\n          </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n}\n  \nconst storage = localStorage.getItem(\"filters\")\nconst parstedStorage = JSON.parse(storage)\n\nasync function fetchAndRenderProducts(page = 1) {\n  let keyword = parstedStorage.keyword;\n  if (parstedStorage.keyword === null) {\n    keyword=''\n  }\n  let category = parstedStorage.category;\n  if (parstedStorage.category === null) {\n    category=''\n  }\n  const limit = getLimit();\n\n  try {\n    const response = await getProductsList(keyword, category, page, limit);\n    const responsed = await getProduct(keyword, category, page, limit);\n    const products = response;\n\n    const productList = document.getElementById('productList');\n    productList.innerHTML = '';\n\n    products.forEach(product => {\n      productList.innerHTML += renderProductCard(product);\n    });\n\n    // console.log(products)\n    // const totalPages = Math.ceil(products.length / limit);\n    // console.log(totalPages)\n    // const totalPages = products.totalPages\n    const totalPages = responsed.totalPages \n\n    console.log(page);\n    renderPagination(totalPages, page);\n  } catch (error) {\n    console.error('Помилка:', error);\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchAndRenderProducts();\n});\n\n// функция для смены страницы\nwindow.changePage = function(page) {\n  fetchAndRenderProducts(page);\n  console.log(page)\n};\n\nwindow.addEventListener('resize', fetchAndRenderProducts);\n\n\n\n// подключение файла пагинации\nvar script = document.createElement('script');\nscript.src = '/js/pagination.js';\ndocument.head.appendChild(script);\n\n","function getRandomProducts(products, count) {\n  const shuffledProducts = products.sort(() => 0.5 - Math.random());\n  return shuffledProducts.slice(0, count);\n}\n\nimport { getPopularProduct } from './api';\nimport { replaceUnderscoresWithSpaces } from './filters';\nfunction renderPopularProductCard(product) {\n  let result = replaceUnderscoresWithSpaces(product.category);\n  return `\n      <div class=\"popular-card\">\n       <div class=\"popular-background\">\n        <img src=\"${product.img}\" alt=\"${product.name}\" class=\"popular-img\">\n      </div>\n      <div class=\"popular-descript\">\n        <div class=\"popular-descript-text\">\n          <p class=\"popular-name\">${product.name}</p>\n          <div class=\"pop-frame\">\n\n          <div class=\"category-cont\">\n          <p class=\"popular-text\">Category:\n          <span class=\"word\">${result}</span></p>\n\n          <p class=\"popular-text\">Size:\n          <span class=\"word\">${product.size}</span></p>\n          \n\n          \n          <p class=\"popular-text\">Popularity:\n          <span class=\"word\">${product.popularity}</span></p>\n          </div>\n\n           <div class=\"popularname-price\">\n           </div>\n          <div class=\"popular-icon-cont\">\n            <svg class=\"popular-icon\" width=\"12\" height=\"12\">\n              <use href=\"../icons.svg#icon-heroicons-solid_shopping-cart-mini\"></use>\n            </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n    </div>\n  `;\n}\n\nasync function renderPopularProducts() {\n  try {\n    const products = await getPopularProduct();\n\n    // Перевірте, чи products - це масив\n    if (!Array.isArray(products)) {\n      console.error('Невірний формат даних: Очікувався масив.');\n      return;\n    }\n\n    // Перевірте, чи масив products не порожній\n    if (products.length === 0) {\n      console.warn('Немає доступних товарів зі знижкою.');\n      return;\n    }\n\n    const randomProducts = getRandomProducts(products, 5);\n    const popularContainer = document.getElementById('popularContainer');\n\n    const fragment = document.createDocumentFragment();\n    randomProducts.forEach(product => {\n      fragment.appendChild(renderPopularProductCard(product));\n    });\n\n    popularContainer.appendChild(fragment);\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\n// Fetch discount products and render them\ngetPopularProduct()\n  .then(response => response.data)\n  .then(products => {\n    const randomProducts = getRandomProducts(products, 5);\n    const popularContainer = document.getElementById('popularContainer');\n\n    randomProducts.forEach(product => {\n      popularContainer.innerHTML += renderPopularProductCard(product);\n    });\n  })\n  .catch(error => {\n    console.error(error.message);\n  });\n","function getRandomProducts(products, count) {\n  const shuffledProducts = products.sort(() => 0.5 - Math.random());\n  return shuffledProducts.slice(0, count);\n}\n\nimport { getDiskountProduct } from './api';\n\n  function renderDiscountProductCard(product) {\n    return `\n      <div class=\"product-card\">\n        <div class=\"product-background\">\n\n        <div class=\"discount-label\">\n      <svg class=\"dicount-label-icon\">\n      <use href=\"./icons.svg#icon-discount\"></use>\n      </svg>\n      </div>\n\n          <img src=\"${product.img}\" alt=\"${product.name}\" class=\"product-image\">\n        </div>\n        <div class=\"product-details\">\n          <div class=\"details-text\">\n\n          <div class=\"name-price\">\n          <h2 class=\"product-name\">${product.name}</h2>\n          <p class=\"product-price\">$${product.price.toFixed(2)}</p>\n          </div>\n\n          <div class=\"discount-icon-cont\">\n          <svg class=\"discount-icon\" width=\"34\" height=\"34\">\n            <use href=\"./icons.svg#icon-heroicons-solid_shopping-cart\"></use>\n          </svg>\n          </div>\n\n        </div>\n      </div>\n    `;\n  }\n  \nasync function renderDiscountProducts() {\n  try {\n    const products = await getDiskountProduct();\n\n    // Перевірте, чи products - це масив\n    if (!Array.isArray(products)) {\n      console.error(\"Невірний формат даних: Очікувався масив.\");\n      return;\n    }\n\n    // Перевірте, чи масив products не порожній\n    if (products.length === 0) {\n      console.warn(\"Немає доступних товарів зі знижкою.\");\n      return;\n    }\n\n    const randomProducts = getRandomProducts(products, 2);\n    const discountContainer = document.getElementById('discountContainer');\n\n    const fragment = document.createDocumentFragment();\n    randomProducts.forEach(product => {\n      fragment.appendChild(renderDiscountProductCard(product));\n    });\n\n    discountContainer.appendChild(fragment);\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\n// Fetch discount products and render them\ngetDiskountProduct()\n  .then(response => response.data)\n  .then(products => {\n    const randomProducts = getRandomProducts(products, 2);\n    const discountContainer = document.getElementById('discountContainer');\n\n    randomProducts.forEach(product => {\n      discountContainer.innerHTML += renderDiscountProductCard(product);\n    });\n  })\n  .catch(error => {\n    console.error(error.message);\n  });","import { getProductById } from './api.js';\n\nconst refs = {\n  cart: document.querySelector('.productlist-card'),\n };\n\n\nexport function addToCart(id) {\n  try {\n    console.log(id);\n    // if (localStorage.getItem(id)) {\n    //   localStorage.removeItem(id);\n    // } else {\n    //   localStorage.setItem(id, JSON.stringify(id));\n    // }\n\n    let myArray = JSON.parse(localStorage.getItem('cart')) || [];\n    console.log(myArray);\n                    // Об'єкт, який потрібно додати до масиву\n                    const newCart = { id: id, pieces: '1' };\n                    \n                    // Додавання нового об'єкта до масиву\n                    myArray.push(newCart);\n                    \n                    // Оновлення масиву об'єктів у localStorage\n                    localStorage.setItem('cart', JSON.stringify(myArray));\n\n\n\n\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n\n\n\n\nasync function getProduct(id, btn) {\n  const modalContent = document.querySelector('.modal-content');\n  modalContent.innerHTML = '';\n  const product = await getProductById(id);\n  modalContent.innerHTML = renderModalContent(product, btn);\n}\n\nfunction renderModalContent(product, btn) {\n  return `\n    <div class=\"modal-product-img\">\n      <img src=\"${product.img}\" alt=\"${product.name}\" />\n    </div>\n    <div class=\"modal-product-info\">\n        <h4 class=\"modal-product-title\">${product.name}</h4>\n      <div class=\"modal-product-characteristics\">\n        <div>Category: <span>${product.category}</span></div>\n        <div>Size: <span>${product.size}</span></div>\n        <div>Popularity: <span>${product.popularity}</span></div>\n      </div>\n      <p class=\"modal-product-description\">\n      ${product.desc}\n      </p>\n    </div>\n    <div class=\"modal-product-price\">$${product.price.toFixed(2)}</div>\n    <button class=\"modal-product-button\" data-productlist-id=\"${\n      product._id\n    }\"> ${btn}<svg class=\"modal-product-button-icon\">\n    <use class=\"modal-product-button-icon\" href=\"./icons.svg#icon-heroicons-solid_shopping-cart\"></use>\n  </svg></button>\n    `;\n}\n\nconst modal = document.querySelector('.modal');\nconst closeButton = document.querySelector('.close-button');\n\nfunction openModal() {\n  modal.classList.add('show-modal');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeModal() {\n  modal.classList.remove('show-modal');\n  document.body.style.overflow = 'auto';\n}\n\nfunction windowOnClick(event) {\n  if (event.target === modal) {\n    closeModal();\n  }\n}\n\ncloseButton.addEventListener('click', closeModal);\nwindow.addEventListener('click', windowOnClick);\n\ndocument.addEventListener('keydown', function (e) {\n  if (e.keyCode === 27) closeModal();\n});\n\ndocument.addEventListener('click', function (e) {\n  if (!e.target.classList.contains('modal-product-button')) {\n    return;\n  }\n  const id = e.target.dataset.productlistId;\n\n  e.target.addEventListener('click', addToCart(id));\n  e.target.addEventListener('click', closeModal());\n});\n\n\nfunction waitForElements(selector) {\n  return new Promise((resolve, reject) => {\n      const elements = document.querySelectorAll(selector);\n\n      if (elements.length > 0) {\n          resolve(elements);\n      } else {\n          const observer = new MutationObserver(() => {\n              const updatedElements = document.querySelectorAll(selector);\n              if (updatedElements.length > 0) {\n                  observer.disconnect();\n                  resolve(updatedElements);\n              }\n          });\n\n          observer.observe(document.documentElement, {\n              childList: true,\n              subtree: true\n          });\n      }\n  });\n}\n\n{/* // Очікуємо на появу всіх елементів з класом inBascet */}\nwaitForElements('.productlist-card')\n  .then((elements) => {\n      elements.forEach((element) => {\n          element.addEventListener('click', (e) => {\n            const id=e.currentTarget.dataset.productlistId;\n            if (localStorage.getItem(id)) {\n              getProduct(id, 'Remove from');\n            } else {\n              getProduct(id, 'Add to');\n            }\n          \n            openModal();\n           \n          });\n      });\n  })\n  .catch((error) => {\n      console.error(error.message);\n  });","import './js/footer';\nimport './js/header';\nimport './js/hero';\nimport './js/filters';\nimport './js/prodacts-list';\nimport './js/popular-prodacts';\nimport './js/discount';\nimport './js/api';\nimport './js/modal';\n// import './js/cart';\n\nfunction waitForElements(selector) {\n    return new Promise((resolve, reject) => {\n        const elements = document.querySelectorAll(selector);\n\n        if (elements.length > 0) {\n            resolve(elements);\n        } else {\n            const observer = new MutationObserver(() => {\n                const updatedElements = document.querySelectorAll(selector);\n                if (updatedElements.length > 0) {\n                    observer.disconnect();\n                    resolve(updatedElements);\n                }\n            });\n\n            observer.observe(document.documentElement, {\n                childList: true,\n                subtree: true\n            });\n        }\n    });\n}\n\n{/* // Очікуємо на появу всіх елементів з класом inBascet */}\nwaitForElements('.inBascet')\n    .then((elements) => {\n        elements.forEach((element) => {\n            element.addEventListener('click', (e) => {\n                const id={\n                    id: e.currentTarget.id,\n                    pieces: \"1\",\n                }\n                // console.log(id);\n                // localStorage.setItem('data', JSON.stringify(id));\n\n\n                let myArray = JSON.parse(localStorage.getItem('cart')) || [];\nconsole.log(myArray);\n                // Об'єкт, який потрібно додати до масиву\n                const newCart = { id: e.currentTarget.id, pieces: '1' };\n\n                // Додавання нового об'єкта до масиву\n                myArray.push(newCart);\n\n                // Оновлення масиву об'єктів у localStorage\n                localStorage.setItem('cart', JSON.stringify(myArray));\n\n\n            });\n        });\n    })\n    .catch((error) => {\n        console.error(error.message);\n    });"],"names":["BASE_URL","getProductsCategories","axios","error","getProductById","id","getPopularProduct","getDiskountProduct","refs","handleFiltersSubmit","loadCategories","data","i","result","replaceUnderscoresWithSpaces","localvalue","filtersValue","filtersCatValue","changeForm","filtersParce","inputString","getProductsList","keyword","category","page","limit","url","products","totalPages","getProduct","getLimit","screenWidth","renderProductCard","storage","parstedStorage","fetchAndRenderProducts","response","responsed","productList","product","script","getRandomProducts","count","renderPopularProductCard","randomProducts","popularContainer","renderDiscountProductCard","discountContainer","addToCart","myArray","newCart","btn","modalContent","renderModalContent","modal","closeButton","openModal","closeModal","windowOnClick","event","e","waitForElements","selector","resolve","reject","elements","observer","updatedElements","element"],"mappings":"+uBAEA,MAAMA,EAAW,yCAKV,eAAeC,GAAwB,CAC1C,GAAI,CAEA,OADmB,MAAMC,EAAM,IAAI,GAAGF,uBAA8B,CAEvE,OACMG,EAAP,CACI,QAAQ,IAAIA,EAAM,OAAO,CAC5B,CACL,CAKO,eAAeC,EAAeC,EAAI,CACrC,GAAI,CAEA,OADiB,MAAMH,EAAM,IAAI,GAAGF,cAAqBK,GAAI,GAC7C,IACnB,OACMF,EAAP,CACI,QAAQ,IAAIA,EAAM,OAAO,CAC5B,CACL,CAIO,eAAeG,GAAoB,CACtC,GAAI,CAEA,OADwB,MAAMJ,EAAM,IAAI,GAAGF,4BAAmC,CAEjF,OACMG,EAAP,CACI,QAAQ,IAAIA,EAAM,OAAO,CAC5B,CACL,CAKO,eAAeI,GAAqB,CACvC,GAAI,CAEA,OADwB,MAAML,EAAM,IAAI,GAAGF,qBAA4B,CAE1E,OACMG,EAAP,CACI,QAAQ,IAAIA,EAAM,OAAO,CAC5B,CACL,CCnDmB,SAAS,cAAc,YAAY,EAC5B,SAAS,cAAc,qBAAqB,EAC1C,SAAS,cAAc,uBAAuB,EACpD,SAAS,cAAc,iBAAiB,EACjD,SAAS,cAAc,OAAO,EAC1B,SAAS,KAAK,MAAM,SCLnC,MAAMK,EAAO,CACX,cAAe,SAAS,cAAc,qBAAqB,EAC3D,KAAM,SAAS,eAAe,aAAa,EAC3C,aAAc,SAAS,cAAc,gBAAgB,EACrD,kBAAmB,SAAS,cAAc,qBAAqB,CACnE,EACMA,EAAK,MACTA,EAAK,KAAK,iBAAiB,SAAUC,CAAmB,EACxDC,IAEA,eAAeA,GAAiB,CAC9B,GAAI,CAEF,MAAMC,GADiB,MAAMV,KACD,KAC5B,QAASW,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAAK,CAEpC,IAAIC,EAASC,EAA6BH,EAAKC,EAAE,EAEjDJ,EAAK,cAAc,mBACjB,YACA,oDAAoDK,MAAWA,YACzE,CACO,CACF,MAAC,CACA,QAAQ,IAAI,KAAK,CAClB,CACF,CAED,MAAME,EAAa,CAAE,QAAS,KAAM,SAAU,KAAM,KAAM,EAAG,MAAO,GAEpE,eAAeN,GAAsB,CACnC,MAAMO,EAAeR,EAAK,aAAa,MACvC,QAAQ,IAAIQ,CAAY,EACxBD,EAAW,QAAUC,EACjBA,IAAiB,KACnBD,EAAW,QAAU,MAEvB,MAAME,EAAkBT,EAAK,kBAAkB,MAC/CO,EAAW,SAAWE,EAClBA,IAAoB,KACtBF,EAAW,SAAW,MAExB,aAAa,QAAQ,UAAW,KAAK,UAAUA,CAAU,CAAC,CAW3D,CAEDG,IAEA,SAASA,GAAa,CACpB,MAAMC,EAAe,KAAK,MAAM,aAAa,QAAQ,SAAS,CAAC,EAC3DX,EAAK,eACTA,EAAK,aAAa,MAAQW,EAAa,SAAW,IAC9CX,EAAK,oBACTA,EAAK,kBAAkB,MAAQW,EAAa,UAAY,GAEzD,CAEM,SAASL,EAA6BM,EAAa,CAExD,OADmBA,EAAY,QAAQ,KAAM,GAAG,CAEpD,CChEA,eAAeC,EAAgBC,EAASC,EAAUC,EAAO,EAAGC,EAAQ,EAAG,CACrE,MAAMC,EAAM,2DAA2DJ,cAAoBC,UAAiBC,WAAcC,IAE1H,GAAI,CAEF,MAAME,EAAW,MADA,MAAM,MAAMD,CAAG,GACA,OAC1BE,EAAaD,EAAS,WAC5B,OAAOA,EAAS,OACjB,OAAQxB,EAAP,CACA,eAAQ,MAAM,2BAA4BA,CAAK,EACxC,EACR,CACH,CAEA,eAAe0B,EAAWP,EAASC,EAAUC,EAAO,EAAGC,EAAQ,EAAG,CAChE,MAAMC,EAAM,2DAA2DJ,cAAoBC,UAAiBC,WAAcC,IAE1H,GAAI,CAEF,MAAME,EAAW,MADA,MAAM,MAAMD,CAAG,GACA,OAC1BE,EAAaD,EAAS,WAC5B,OAAOA,CACR,OAAQxB,EAAP,CACA,eAAQ,MAAM,2BAA4BA,CAAK,EACxC,EACR,CACH,CAIA,SAAS2B,GAAW,CAClB,MAAMC,EAAc,OAAO,YAAc,SAAS,gBAAgB,aAAe,SAAS,KAAK,YAE/F,OAAIA,GAAe,KACV,EACEA,GAAe,IACjB,EAEA,CAEX,CAIA,SAASC,EAAkBrB,EAAM,CAC/B,IAAIE,EAASC,EAA6BH,EAAK,QAAQ,EACvD,MAAO;AAAA,yDACgDA,EAAK;AAAA;AAAA,oBAE1CA,EAAK,aAAaA,EAAK;AAAA;AAAA;AAAA;AAAA,yCAIFA,EAAK;AAAA;AAAA;AAAA;AAAA;AAAA,+BAKfE;AAAA;AAAA;AAAA,+BAGAF,EAAK;AAAA;AAAA;AAAA;AAAA;AAAA,+BAKLA,EAAK;AAAA;AAAA;AAAA;AAAA;AAAA,0CAKMA,EAAK,MAAM,QAAQ,CAAC;AAAA,qBACzCA,EAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAU1B,CAEA,MAAMsB,EAAU,aAAa,QAAQ,SAAS,EACxCC,EAAiB,KAAK,MAAMD,CAAO,EAEzC,eAAeE,EAAuBX,EAAO,EAAG,CAC9C,IAAIF,EAAUY,EAAe,QACzBA,EAAe,UAAY,OAC7BZ,EAAQ,IAEV,IAAIC,EAAWW,EAAe,SAC1BA,EAAe,WAAa,OAC9BX,EAAS,IAEX,MAAME,EAAQK,IAEd,GAAI,CACF,MAAMM,EAAW,MAAMf,EAAgBC,EAASC,EAAUC,EAAMC,CAAK,EAC/DY,EAAY,MAAMR,EAAWP,EAASC,EAAUC,EAAMC,CAAK,EAC3DE,EAAWS,EAEXE,EAAc,SAAS,eAAe,aAAa,EACzDA,EAAY,UAAY,GAExBX,EAAS,QAAQY,GAAW,CAC1BD,EAAY,WAAaN,EAAkBO,CAAO,CACxD,CAAK,EAMD,MAAMX,EAAaS,EAAU,WAE7B,QAAQ,IAAIb,CAAI,EAChB,iBAAiBI,EAAYJ,CAAI,CAClC,OAAQrB,EAAP,CACA,QAAQ,MAAM,WAAYA,CAAK,CAChC,CACH,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDgC,GACF,CAAC,EAGD,OAAO,WAAa,SAASX,EAAM,CACjCW,EAAuBX,CAAI,EAC3B,QAAQ,IAAIA,CAAI,CAClB,EAEA,OAAO,iBAAiB,SAAUW,CAAsB,EAKxD,IAAIK,EAAS,SAAS,cAAc,QAAQ,EAC5CA,EAAO,IAAM,oBACb,SAAS,KAAK,YAAYA,CAAM,ECnJhC,SAASC,EAAkBd,EAAUe,EAAO,CAE1C,OADyBf,EAAS,KAAK,IAAM,GAAM,KAAK,OAAM,CAAE,EACxC,MAAM,EAAGe,CAAK,CACxC,CAIA,SAASC,EAAyBJ,EAAS,CACzC,IAAI1B,EAASC,EAA6ByB,EAAQ,QAAQ,EAC1D,MAAO;AAAA;AAAA;AAAA,oBAGWA,EAAQ,aAAaA,EAAQ;AAAA;AAAA;AAAA;AAAA,oCAIbA,EAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,+BAKb1B;AAAA;AAAA;AAAA,+BAGA0B,EAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,+BAKRA,EAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAevC,CAiCAjC,EAAmB,EAChB,KAAK8B,GAAYA,EAAS,IAAI,EAC9B,KAAKT,GAAY,CAChB,MAAMiB,EAAiBH,EAAkBd,EAAU,CAAC,EAC9CkB,EAAmB,SAAS,eAAe,kBAAkB,EAEnED,EAAe,QAAQL,GAAW,CAChCM,EAAiB,WAAaF,EAAyBJ,CAAO,CACpE,CAAK,CACL,CAAG,EACA,MAAMpC,GAAS,CACd,QAAQ,MAAMA,EAAM,OAAO,CAC/B,CAAG,ECzFH,SAASsC,EAAkBd,EAAUe,EAAO,CAE1C,OADyBf,EAAS,KAAK,IAAM,GAAM,KAAK,OAAM,CAAE,EACxC,MAAM,EAAGe,CAAK,CACxC,CAIE,SAASI,EAA0BP,EAAS,CAC1C,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAUWA,EAAQ,aAAaA,EAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMdA,EAAQ;AAAA,sCACPA,EAAQ,MAAM,QAAQ,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAY1D,CAiCHhC,EAAoB,EACjB,KAAK6B,GAAYA,EAAS,IAAI,EAC9B,KAAKT,GAAY,CAChB,MAAMiB,EAAiBH,EAAkBd,EAAU,CAAC,EAC9CoB,EAAoB,SAAS,eAAe,mBAAmB,EAErEH,EAAe,QAAQL,GAAW,CAChCQ,EAAkB,WAAaD,EAA0BP,CAAO,CACtE,CAAK,CACL,CAAG,EACA,MAAMpC,GAAS,CACd,QAAQ,MAAMA,EAAM,OAAO,CAC/B,CAAG,EC/EK,SAAS,cAAc,mBAAmB,EAI3C,SAAS6C,EAAU3C,EAAI,CAC5B,GAAI,CACF,QAAQ,IAAIA,CAAE,EAOd,IAAI4C,EAAU,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAAK,GAC1D,QAAQ,IAAIA,CAAO,EAEH,MAAMC,EAAU,CAAE,GAAI7C,EAAI,OAAQ,GAAG,EAGrC4C,EAAQ,KAAKC,CAAO,EAGpB,aAAa,QAAQ,OAAQ,KAAK,UAAUD,CAAO,CAAC,CAKrE,OAAQ,EAAP,CACA,QAAQ,IAAI,CAAC,CACd,CACH,CAMA,eAAepB,EAAWxB,EAAI8C,EAAK,CACjC,MAAMC,EAAe,SAAS,cAAc,gBAAgB,EAC5DA,EAAa,UAAY,GACzB,MAAMb,EAAU,MAAMnC,EAAeC,CAAE,EACvC+C,EAAa,UAAYC,EAAmBd,EAASY,CAAG,CAC1D,CAEA,SAASE,EAAmBd,EAASY,EAAK,CACxC,MAAO;AAAA;AAAA,kBAESZ,EAAQ,aAAaA,EAAQ;AAAA;AAAA;AAAA,0CAGLA,EAAQ;AAAA;AAAA,+BAEnBA,EAAQ;AAAA,2BACZA,EAAQ;AAAA,iCACFA,EAAQ;AAAA;AAAA;AAAA,QAGjCA,EAAQ;AAAA;AAAA;AAAA,wCAGwBA,EAAQ,MAAM,QAAQ,CAAC;AAAA,gEAEzDA,EAAQ,SACJY;AAAA;AAAA;AAAA,KAIV,CAEA,MAAMG,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAc,SAAS,cAAc,eAAe,EAE1D,SAASC,GAAY,CACnBF,EAAM,UAAU,IAAI,YAAY,EAChC,SAAS,KAAK,MAAM,SAAW,QACjC,CAEA,SAASG,GAAa,CACpBH,EAAM,UAAU,OAAO,YAAY,EACnC,SAAS,KAAK,MAAM,SAAW,MACjC,CAEA,SAASI,EAAcC,EAAO,CACxBA,EAAM,SAAWL,GACnBG,GAEJ,CAEAF,EAAY,iBAAiB,QAASE,CAAU,EAChD,OAAO,iBAAiB,QAASC,CAAa,EAE9C,SAAS,iBAAiB,UAAW,SAAUE,EAAG,CAC5CA,EAAE,UAAY,IAAIH,EAAU,CAClC,CAAC,EAED,SAAS,iBAAiB,QAAS,SAAUG,EAAG,CAC9C,GAAI,CAACA,EAAE,OAAO,UAAU,SAAS,sBAAsB,EACrD,OAEF,MAAMvD,EAAKuD,EAAE,OAAO,QAAQ,cAE5BA,EAAE,OAAO,iBAAiB,QAASZ,EAAU3C,CAAE,CAAC,EAChDuD,EAAE,OAAO,iBAAiB,QAASH,EAAY,CAAA,CACjD,CAAC,EAGD,SAASI,EAAgBC,EAAU,CACjC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACpC,MAAMC,EAAW,SAAS,iBAAiBH,CAAQ,EAEnD,GAAIG,EAAS,OAAS,EAClBF,EAAQE,CAAQ,MACb,CACH,MAAMC,EAAW,IAAI,iBAAiB,IAAM,CACxC,MAAMC,EAAkB,SAAS,iBAAiBL,CAAQ,EACtDK,EAAgB,OAAS,IACzBD,EAAS,WAAU,EACnBH,EAAQI,CAAe,EAEzC,CAAW,EAEDD,EAAS,QAAQ,SAAS,gBAAiB,CACvC,UAAW,GACX,QAAS,EACvB,CAAW,CACJ,CACP,CAAG,CACH,CAGAL,EAAgB,mBAAmB,EAChC,KAAMI,GAAa,CAChBA,EAAS,QAASG,GAAY,CAC1BA,EAAQ,iBAAiB,QAAUR,GAAM,CACvC,MAAMvD,EAAGuD,EAAE,cAAc,QAAQ,cAC7B,aAAa,QAAQvD,CAAE,EACzBwB,EAAWxB,EAAI,aAAa,EAE5BwB,EAAWxB,EAAI,QAAQ,EAGzBmD,GAEZ,CAAW,CACX,CAAO,CACP,CAAG,EACA,MAAOrD,GAAU,CACd,QAAQ,MAAMA,EAAM,OAAO,CACjC,CAAG,EC3IH,SAAS0D,EAAgBC,EAAU,CAC/B,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACpC,MAAMC,EAAW,SAAS,iBAAiBH,CAAQ,EAEnD,GAAIG,EAAS,OAAS,EAClBF,EAAQE,CAAQ,MACb,CACH,MAAMC,EAAW,IAAI,iBAAiB,IAAM,CACxC,MAAMC,EAAkB,SAAS,iBAAiBL,CAAQ,EACtDK,EAAgB,OAAS,IACzBD,EAAS,WAAU,EACnBH,EAAQI,CAAe,EAE3C,CAAa,EAEDD,EAAS,QAAQ,SAAS,gBAAiB,CACvC,UAAW,GACX,QAAS,EACzB,CAAa,CACJ,CACT,CAAK,CACL,CAGAL,EAAgB,WAAW,EACtB,KAAMI,GAAa,CAChBA,EAAS,QAASG,GAAY,CAC1BA,EAAQ,iBAAiB,QAAUR,GAAM,CAE7BA,EAAE,cAAc,GAOxB,IAAIX,EAAU,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAAK,GAC1E,QAAQ,IAAIA,CAAO,EAEH,MAAMC,EAAU,CAAE,GAAIU,EAAE,cAAc,GAAI,OAAQ,KAGlDX,EAAQ,KAAKC,CAAO,EAGpB,aAAa,QAAQ,OAAQ,KAAK,UAAUD,CAAO,CAAC,CAGpE,CAAa,CACb,CAAS,CACT,CAAK,EACA,MAAO9C,GAAU,CACd,QAAQ,MAAMA,EAAM,OAAO,CACnC,CAAK"}