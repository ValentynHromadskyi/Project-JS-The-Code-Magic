{"version":3,"file":"cart-3b9cc0b0.js","sources":["../../src/js/api.js","../../src/js/filters.js","../../src/js/prodacts-list.js","../../src/js/popular-prodacts.js","../../src/js/discount.js","../../src/js/modal.js","../../src/js/cart.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://food-boutique.b.goit.study/api\";\n\n\n// Перелік категорій продуктів\n\nexport async function getProductsCategories() {\n    try {\n        const categories = await axios.get(`${BASE_URL}/products/categories`)\n        return categories;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Детальна інформація про продукт (ID)\n\nexport async function getProductById(id) {\n    try {\n        const response = await axios.get(`${BASE_URL}/products/${id}`);\n        return response.data;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n// Перелік популярних продуктів\n\nexport async function getPopularProduct() {\n    try {\n        const popularProducts = await axios.get(`${BASE_URL}/products/popular?limit=5`)\n        return popularProducts;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Перелік продуктів зі знижкою\n\nexport async function getDiskountProduct() {\n    try {\n        const diskountProduct = await axios.get(`${BASE_URL}/products/discount`);\n        return diskountProduct;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Перелік продуктів з фільтрацією\n\nexport async function getFilteredProduct({\n    keyword,\n    category,\n    byABC = true,\n    byPrice = false,\n    byPopularity = false,\n    page = 1,\n    limit = 6,\n}) {\n    try {\n        const params = new URLSearchParams({\n    category,\n    byABC: byABC ? \"true\" : \"false\",\n    byPrice: byPrice ? \"true\" : \"false\",\n    byPopularity: byPopularity ? \"true\" : \"false\",\n    page,\n    limit,\n        })\n        if (keyword) {\n            params.append(\"keyword\", keyword);\n        }\n        const response = await axios.get(`${BASE_URL}/products?${params}`);\n        return response.data;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Оформлення підписки на розсилку нових продуків\n\nconst emailToAdd = {\n    email: \"ssss@Comment.ua\",\n};\n\nexport async function postSubscription(data) {\n    const response = await axios.post(`${BASE_URL}/subscription`, data);\n    return response.data;\n} \n\n\n// Оформлення замовлення продуктів\n\nexport async function postOrders(data) {\n    const response = await axios.post(`${BASE_URL}/orders`, data);\n    return response.data;\n}\n\n","import { getProductsCategories, getFilteredProduct } from './api.js';\n\nconst refs = {\n  filterCatList: document.querySelector('.filters-categories'),\n  form: document.getElementById('fiters-form'),\n  filtersInput: document.querySelector('.filters-input'),\n  filtersCategories: document.querySelector('.filters-categories'),\n};\n\nrefs.form.addEventListener('submit', handleFiltersSubmit);\nloadCategories();\n\nasync function loadCategories() {\n  try {\n    const categoriesList = await getProductsCategories();\n    const data = categoriesList.data;\n    for (let i = 0; i < data.length; i++) {\n      // заміна \"_\" на \" \"\n      let result = replaceUnderscoresWithSpaces(data[i]);\n\n      refs.filterCatList.insertAdjacentHTML(\n        'beforeend',\n        `<option  class=\"filters-categories-option\" value=\"${result}\">${result}</option>`\n      );\n    }\n  } catch (error) {\n    console.log('err');\n  }\n}\n\nconst localvalue = { keyword: null, category: null, page: 1, limit: 6 };\n\nasync function handleFiltersSubmit(event) {\n  const filtersValue = refs.filtersInput.value;\n  console.log(filtersValue)\n  localvalue.keyword = filtersValue;\n  if (filtersValue === '') {\n    localvalue.keyword = null;\n  }\n  const filtersCatValue = refs.filtersCategories.value;\n  localvalue.category = filtersCatValue;\n  if (filtersCatValue === '') {\n    localvalue.category = null;\n  }\n  localStorage.setItem('filters', JSON.stringify(localvalue));\n\n  const filters = {\n    keyword: filtersValue,\n    category: filtersCatValue,\n    byABC: true,\n    byPrice: false,\n    byPopularity: false,\n    page: 1,\n    limit: 6,\n  };\n}\n\nchangeForm();\n\nfunction changeForm() {\n  const filtersParce = JSON.parse(localStorage.getItem('filters'));\n  refs.filtersInput.value = filtersParce.keyword;\n  refs.filtersCategories.value = filtersParce.category;\n}\n\nexport function replaceUnderscoresWithSpaces(inputString) {\n  let outputString = inputString.replace(/_/g, ' ');\n  return outputString;\n}\n","import { getFilteredProduct } from \"./api\";\n\nimport { replaceUnderscoresWithSpaces } from './filters';\n\n\n// функція для отримання продуктів з сервера\n\nasync function getProductsList(keyword, category, page = 1, limit = 6) {\n  const url = `https://food-boutique.b.goit.study/api/products?keyword=${keyword}&category=${category}&page=${page}&limit=${limit}`;\n\n  try {\n    const response = await fetch(url);\n    const products = await response.json();\n    return products.results;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n    return [];\n  }\n}\n\n// Функція для визначення ліміту в залежності від розміру екрану\n\nfunction getLimit() {\n  const screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n  if (screenWidth >= 1440) {\n    return 9;\n  } else if (screenWidth >= 768) {\n    return 8;\n  } else {\n    return 6; // значення за замовчуванням\n  }\n}\n\n//картка продукта\n\nfunction renderProductCard(data) {\n  let result = replaceUnderscoresWithSpaces(data.category);\n  return `\n    <div class=\"productlist-card\" data-productlist-id=\"${data._id}\">\n      <div class=\"productlist-background\">\n        <img src=\"${data.img}\" alt=\"${data.name}\" class=\"product-image\">\n      </div>\n      <div class=\"productlist-details\">\n        <div class=\"productlist-details-text\">\n          <h2 class=\"productlist-name\">${data.name}</h2>\n          <div class=\"pl-det\">\n          \n          <div class=\"category-cont\">\n          <p class=\"productlist-category\">Category:\n          <span class=\"word\">${result}</span></p>\n\n          <p class=\"productlist-size\">Size:\n          <span class=\"word\">${data.size}</span></p>\n          </div>\n\n          <div class=\"popularity-cont\">\n          <p class=\"productlist-popularity\">Popularity:\n          <span class=\"word\">${data.popularity}</span></p>\n          </div>\n\n          </div>\n          <div class=\"price-icon\">\n          <p class=\"productlist-price\">$${data.price.toFixed(2)}</p>\n          <div class=\"price-icon-cont\">\n          <svg class=\"productlist-icon\" width=\"18\" height=\"18\">\n            <use href=\"../icons.svg#icon-shopping-cart\"></use>\n          </svg>\n          </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n}\n  \nconst storage = localStorage.getItem(\"filters\")\nconst parstedStorage = JSON.parse(storage)\n\nasync function fetchAndRenderProducts(page = 1) {\n  let keyword = parstedStorage.keyword;\n  if (parstedStorage.keyword === null) {\n    keyword=''\n  }\n  let category = parstedStorage.category;\n  if (parstedStorage.category === null) {\n    category=''\n  }\n  const limit = getLimit();\n\n  try {\n    const response = await getProductsList(keyword, category, page, limit);\n    const products = response;\n\n    const productList = document.getElementById('productList');\n    productList.innerHTML = '';\n\n    products.forEach(product => {\n      productList.innerHTML += renderProductCard(product);\n    });\n\n    const totalPages = Math.ceil(products.length / limit);\n\n    renderPagination(totalPages, page);\n  } catch (error) {\n    console.error('Помилка:', error);\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchAndRenderProducts();\n});\n\n// функция для смены страницы\nwindow.changePage = function(page) {\n  fetchAndRenderProducts(page);\n  console.log(page)\n};\n\nwindow.addEventListener('resize', fetchAndRenderProducts);\n\n\n\n// подключение файла пагинации\nvar script = document.createElement('script');\nscript.src = '/js/pagination.js';\ndocument.head.appendChild(script);\n\n","function getRandomProducts(products, count) {\n  const shuffledProducts = products.sort(() => 0.5 - Math.random());\n  return shuffledProducts.slice(0, count);\n}\n\nimport { getPopularProduct } from './api';\nimport { replaceUnderscoresWithSpaces } from './filters';\nfunction renderPopularProductCard(product) {\n  let result = replaceUnderscoresWithSpaces(product.category);\n  return `\n      <div class=\"popular-card\">\n       <div class=\"popular-background\">\n        <img src=\"${product.img}\" alt=\"${product.name}\" class=\"popular-img\">\n      </div>\n      <div class=\"popular-descript\">\n        <div class=\"popular-descript-text\">\n          <p class=\"popular-name\">${product.name}</p>\n          <div class=\"pop-frame\">\n\n          <div class=\"category-cont\">\n          <p class=\"popular-text\">Category:\n          <span class=\"word\">${result}</span></p>\n\n          <p class=\"popular-text\">Size:\n          <span class=\"word\">${product.size}</span></p>\n          \n\n          \n          <p class=\"popular-text\">Popularity:\n          <span class=\"word\">${product.popularity}</span></p>\n          </div>\n\n           <div class=\"popularname-price\">\n           </div>\n          <div class=\"popular-icon-cont\">\n            <svg class=\"popular-icon\" width=\"12\" height=\"12\">\n              <use href=\"../icons.svg#icon-heroicons-solid_shopping-cart-mini\"></use>\n            </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n    </div>\n  `;\n}\n\nasync function renderPopularProducts() {\n  try {\n    const products = await getPopularProduct();\n\n    // Перевірте, чи products - це масив\n    if (!Array.isArray(products)) {\n      console.error('Невірний формат даних: Очікувався масив.');\n      return;\n    }\n\n    // Перевірте, чи масив products не порожній\n    if (products.length === 0) {\n      console.warn('Немає доступних товарів зі знижкою.');\n      return;\n    }\n\n    const randomProducts = getRandomProducts(products, 5);\n    const popularContainer = document.getElementById('popularContainer');\n\n    const fragment = document.createDocumentFragment();\n    randomProducts.forEach(product => {\n      fragment.appendChild(renderPopularProductCard(product));\n    });\n\n    popularContainer.appendChild(fragment);\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\n// Fetch discount products and render them\ngetPopularProduct()\n  .then(response => response.data)\n  .then(products => {\n    const randomProducts = getRandomProducts(products, 5);\n    const popularContainer = document.getElementById('popularContainer');\n\n    randomProducts.forEach(product => {\n      popularContainer.innerHTML += renderPopularProductCard(product);\n    });\n  })\n  .catch(error => {\n    console.error(error.message);\n  });\n","function getRandomProducts(products, count) {\n  const shuffledProducts = products.sort(() => 0.5 - Math.random());\n  return shuffledProducts.slice(0, count);\n}\n\nimport { getDiskountProduct } from './api';\n\n  function renderDiscountProductCard(product) {\n    return `\n      <div class=\"product-card\">\n        <div class=\"product-background\">\n\n        <div class=\"discount-label\">\n      <svg class=\"dicount-label-icon\">\n      <use href=\"../icons.svg#icon-discount\"></use>\n      </svg>\n      </div>\n\n          <img src=\"${product.img}\" alt=\"${product.name}\" class=\"product-image\">\n        </div>\n        <div class=\"product-details\">\n          <div class=\"details-text\">\n\n          <div class=\"name-price\">\n          <h2 class=\"product-name\">${product.name}</h2>\n          <p class=\"product-price\">$${product.price.toFixed(2)}</p>\n          </div>\n\n          <div class=\"discount-icon-cont\">\n          <svg class=\"discount-icon\" width=\"34\" height=\"34\">\n            <use href=\"../icons.svg#icon-heroicons-solid_shopping-cart\"></use>\n          </svg>\n          </div>\n\n        </div>\n      </div>\n    `;\n  }\n  \nasync function renderDiscountProducts() {\n  try {\n    const products = await getDiskountProduct();\n\n    // Перевірте, чи products - це масив\n    if (!Array.isArray(products)) {\n      console.error(\"Невірний формат даних: Очікувався масив.\");\n      return;\n    }\n\n    // Перевірте, чи масив products не порожній\n    if (products.length === 0) {\n      console.warn(\"Немає доступних товарів зі знижкою.\");\n      return;\n    }\n\n    const randomProducts = getRandomProducts(products, 2);\n    const discountContainer = document.getElementById('discountContainer');\n\n    const fragment = document.createDocumentFragment();\n    randomProducts.forEach(product => {\n      fragment.appendChild(renderDiscountProductCard(product));\n    });\n\n    discountContainer.appendChild(fragment);\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\n// Fetch discount products and render them\ngetDiskountProduct()\n  .then(response => response.data)\n  .then(products => {\n    const randomProducts = getRandomProducts(products, 2);\n    const discountContainer = document.getElementById('discountContainer');\n\n    randomProducts.forEach(product => {\n      discountContainer.innerHTML += renderDiscountProductCard(product);\n    });\n  })\n  .catch(error => {\n    console.error(error.message);\n  });","import { getProductById } from './api.js';\n\nexport function addToCart(id) {\n  try {\n    if (localStorage.getItem(id)) {\n      localStorage.removeItem(id);\n    } else {\n      localStorage.setItem(id, JSON.stringify(id));\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nasync function getProduct(id, btn) {\n  const modalContent = document.querySelector('.modal-content');\n  modalContent.innerHTML = '';\n  const product = await getProductById(id);\n  modalContent.innerHTML = renderModalContent(product, btn);\n}\n\nfunction renderModalContent(product, btn) {\n  return `\n    <div class=\"modal-product-img\">\n      <img src=\"${product.img}\" alt=\"${product.name}\" />\n    </div>\n    <div class=\"modal-product-info\">\n        <h4 class=\"modal-product-title\">${product.name}</h4>\n      <div class=\"modal-product-characteristics\">\n        <div>Category: <span>${product.category}</span></div>\n        <div>Size: <span>${product.size}</span></div>\n        <div>Popularity: <span>${product.popularity}</span></div>\n      </div>\n      <p class=\"modal-product-description\">\n      ${product.desc}\n      </p>\n    </div>\n    <div class=\"modal-product-price\">$${product.price.toFixed(2)}</div>\n    <button class=\"modal-product-button\" data-productlist-id=\"${\n      product._id\n    }\"> ${btn}<svg class=\"modal-product-button-icon\">\n    <use class=\"modal-product-button-icon\" href=\"./icons.svg#icon-heroicons-solid_shopping-cart\"></use>\n  </svg></button>\n    `;\n}\n\nconst modal = document.querySelector('.modal');\nconst closeButton = document.querySelector('.close-button');\n\nfunction openModal() {\n  modal.classList.add('show-modal');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeModal() {\n  modal.classList.remove('show-modal');\n  document.body.style.overflow = 'auto';\n}\n\ndocument.querySelectorAll('.productlist-card').forEach(el => {\n  el.addEventListener('click', function (e) {\n    if (el === e.target || el.contains(e.target)) {\n      const id = el.dataset.productlistId;\n\n      if (localStorage.getItem(id)) {\n        getProduct(id, 'Remove from');\n      } else {\n        getProduct(id, 'Add to');\n      }\n      openModal();\n    }\n  });\n});\n\nfunction windowOnClick(event) {\n  if (event.target === modal) {\n    closeModal();\n  }\n}\n\ncloseButton.addEventListener('click', closeModal);\nwindow.addEventListener('click', windowOnClick);\n\ndocument.addEventListener('keydown', function (e) {\n  if (e.keyCode === 27) closeModal();\n});\n\ndocument.addEventListener('click', function (e) {\n  if (!e.target.classList.contains('modal-product-button')) {\n    return;\n  }\n  const id = e.target.dataset.productlistId;\n\n  e.target.addEventListener('click', addToCart(id));\n  e.target.addEventListener('click', closeModal());\n});\n","import { getProductById } from './api.js';\n\n\nconst STORAGE_KEY = \"cart\";\n\n// запис ID в локал сторидж\nexport function saveDataInLS(data, key) {\n    localStorage.setItem(key, JSON.stringify(data));\n}\nconst newProduct = [{\n    id: \"640c2dd963a319ea671e37a9\",\n    pieces: \"2\", \n},\n{\n    id: \"640c2dd963a319ea671e3860\",\n    pieces: \"1\", \n}]\n    \nsaveDataInLS(newProduct, STORAGE_KEY);\n\n    const refs = {\n        cartBlock: document.querySelector(\".js-cart-block\"),\n        cartCounter: document.querySelector(\"span#cart-counter\"),\n        deleteAllBtn: document.querySelector(\".delete-all-btn\"),\n        cartDeleteAllBlock: document.querySelector(\".cart-delete-all-section\"),\n        cartListBlock: document.querySelector(\".cart-list-block\"),\n        cartEmptyCart: document.querySelector(\".cart-empty-cart\"),\n        yourOrderPrice: document.querySelector(\".your-order-price\"),\n        spanYourOrderPrice: document.querySelector(\"span#your-order-total-price\"),\n    }\n\nrefs.deleteAllBtn.addEventListener(\"click\", deleteAllProducts);\n\n// showBtnLoad();\nhideBtnLoad();\n\nfunction hideBtnLoad() {\n    refs.cartDeleteAllBlock.setAttribute('hidden', '');\n    refs.yourOrderPrice.setAttribute('hidden', '');\n    refs.cartEmptyCart.removeAttribute('hidden', '');\n}\n\nfunction showBtnLoad() {\n    refs.cartDeleteAllBlock.removeAttribute('hidden', '');\n    refs.yourOrderPrice.removeAttribute('hidden', '');\n    refs.cartEmptyCart.setAttribute('hidden', '');\n}\n\ncartUsage();\n\n// використання корзини\nexport async function cartUsage() {\n    let cartArr = getDataFromLS(STORAGE_KEY);\n    console.log(cartArr.length);\n         \n    // каунтер - productQuantity(cartArr);\n    refs.cartCounter.textContent = cartArr.length;\n\n    if (cartArr.length === 0) {\n        refs.cartBlock.innerHTML = createMarkupEmptyCart();\n        hideBtnLoad();\n        return;\n     }\n     showBtnLoad();\n    renderCards(cartArr);\n    sum(cartArr);\n    }\n\nasync function renderCards() {\n   \n    let cartArr = getDataFromLS(STORAGE_KEY);\n    console.log(cartArr);\n    cartArr.forEach(cartArrItem => {\n        let id = cartArrItem.id;\n\n        getProductById(id).then(response => {\n            const cartId = renderProductCard(response, id);\n            refs.cartListBlock.innerHTML += cartId;\n        })\n    })\n}\nrefs.deleteAllBtn.addEventListener(\"click\", deleteAllProducts);\n// \n\nfunction getDataFromLS(key) {\n    try {\n        const data = localStorage.getItem(key);\n        return data ? JSON.parse(data) : [];\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Видалення товарів з корзини\n  function deleteAllProducts() {\n      localStorage.removeItem(STORAGE_KEY);\n      refs.cartBlock.innerHTML = createMarkupEmptyCart();\n      refs.cartCounter.forEach(item => item.textContent = 0);\n    \n};\n\n// розрахунок суми\nasync function sum() {\n    let totalSum = 0;\n    let cartArr = getDataFromLS(STORAGE_KEY);\n    console.log(cartArr);\n\n    cartArr.forEach(cartArrItem => {\n        let id = cartArrItem.id;\n\n        getProductById(id).then(response => {\n            let productPrice = response.price;\n            totalSum += productPrice;\n            refs.spanYourOrderPrice.textContent = `$${Number(totalSum.toFixed(2))}`;\n        })\n    });\n}\n\n// розмітка пустої корзини\nfunction createMarkupEmptyCart() {\n    return `\n    <div class=\"js-cart-block\">\n      <div class=\"cart-img-empty-cart\">\n        <img\n          class=\"img-shopping-cart\"\n          src=\"./img/cart/yellow-shopping-basket.png\"\n          width=\"132\"\n          height=\"114\"\n        />\n      </div>\n      <div class=\"cart-text\">\n        <p class=\"cart-text-empty\">\n          Your basket is <span class=\"cart-text-span\">empty...</span>\n        </p>\n        <p class=\"cart-all-text\">\n          Go to the main page to select your favorite <br />\n          products and add them to the cart.\n        </p>\n      </div>\n    </div>`\n}\n\n// розмітка кнопки Delete all\nfunction createMarcupDeleteAllBtn() {\n    return `<p class=\"delete-all-text\">Delete all</p>\n        <button type=\"button\" class=\"delete-all-btn\">\n          <svg class=\"delete-close-icon\" width=\"13.5\" height=\"13.5\">\n            <use href=\"../img/cart/delete-btn.jpg\"></use>\n          </svg>\n        </button>`\n}\n//картка продукта\nfunction renderProductCard(data) {\n     \n    let result = cartReplaceUnderscoresWithSpaces(data.category);\n  return `\n    <div class=\"productlist-card\" data-productlist-id=\"${data._id}\">\n      <div class=\"productlist-background\">\n        <img src=\"${data.img}\" alt=\"${data.name}\" class=\"product-image\">\n      </div>\n      <div class=\"productlist-details\">\n        <div class=\"productlist-details-text\">\n          <h2 class=\"productlist-name\">${data.name}</h2>\n          <div class=\"pl-det\">\n            <div class=\"category-cont\">\n             <p class=\"productlist-category\">Category:\n                <span class=\"word\">${result}</span></p></div>\n              <div>  \n             <p class=\"productlist-size\">Size:\n                <span class=\"word\">${data.size}</span></p></div>\n            </div>\n          </div>\n          <div class=\"price-icon\">\n          <p class=\"productlist-price\">$${data.price.toFixed(2)}</p>\n\n          <div class=\"price-icon-cont\">\n          <svg class=\"productlist-icon\" width=\"18\" height=\"18\">\n            <use href=\"../icons.svg#icon-shopping-cart\"></use>\n          </svg>\n          </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n    \n}\n\n// // розмітка картки товару\n// function createMarkupCartList(arr) {\n//     return arr.map(\n//         ({ _id, name, img, category, price, size }) => `\n         \n        \n//     `\n//         )\n//         .join('');\n// }\n     \n\nfunction cartReplaceUnderscoresWithSpaces(inputString) {\n  let outputString = inputString.replace(/_/g, ' ');\n  return outputString;\n}\n\n// // каунтер\n// export function productQuantity(cartArr) {\n//     refs.cartCounter.textContent = cartArr.length;\n//     // return refs.cartCounter.forEach(item => item.textContent = cartArr.length);\n// }"],"names":["BASE_URL","getProductsCategories","axios","error","getProductById","id","getPopularProduct","getDiskountProduct","refs","handleFiltersSubmit","loadCategories","data","i","result","replaceUnderscoresWithSpaces","localvalue","event","filtersValue","filtersCatValue","changeForm","filtersParce","inputString","getProductsList","keyword","category","page","limit","url","getLimit","screenWidth","renderProductCard","storage","parstedStorage","fetchAndRenderProducts","products","productList","product","totalPages","script","getRandomProducts","count","renderPopularProductCard","response","randomProducts","popularContainer","renderDiscountProductCard","discountContainer","addToCart","getProduct","btn","modalContent","renderModalContent","modal","closeButton","openModal","closeModal","el","windowOnClick","e","STORAGE_KEY","saveDataInLS","key","newProduct","deleteAllProducts","hideBtnLoad","showBtnLoad","cartUsage","cartArr","getDataFromLS","createMarkupEmptyCart","renderCards","sum","cartArrItem","cartId","item","totalSum","productPrice","cartReplaceUnderscoresWithSpaces"],"mappings":"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"}