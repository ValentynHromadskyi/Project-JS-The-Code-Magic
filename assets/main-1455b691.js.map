{"version":3,"file":"main-1455b691.js","sources":["../../src/js/api.js","../../src/js/footer.js","../../src/js/filters.js","../../src/js/prodacts-list.js","../../src/js/popular-prodacts.js","../../src/js/discount.js","../../src/js/modal.js","../../src/js/cart.js","../../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://food-boutique.b.goit.study/api\";\n\n\n// Перелік категорій продуктів\n\nexport async function getProductsCategories() {\n    try {\n        const categories = await axios.get(`${BASE_URL}/products/categories`)\n        return categories;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Детальна інформація про продукт (ID)\n\nexport async function getProductById(id) {\n    try {\n        const response = await axios.get(`${BASE_URL}/products/${id}`);\n        return response.data;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n// Перелік популярних продуктів\n\nexport async function getPopularProduct() {\n    try {\n        const popularProducts = await axios.get(`${BASE_URL}/products/popular?limit=5`)\n        return popularProducts;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Перелік продуктів зі знижкою\n\nexport async function getDiskountProduct() {\n    try {\n        const diskountProduct = await axios.get(`${BASE_URL}/products/discount`);\n        return diskountProduct;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Перелік продуктів з фільтрацією\n\nexport async function getFilteredProduct({\n    keyword,\n    category,\n    byABC = true,\n    byPrice = false,\n    byPopularity = false,\n    page = 1,\n    limit = 6,\n}) {\n    try {\n        const params = new URLSearchParams({\n    category,\n    byABC: byABC ? \"true\" : \"false\",\n    byPrice: byPrice ? \"true\" : \"false\",\n    byPopularity: byPopularity ? \"true\" : \"false\",\n    page,\n    limit,\n        })\n        if (keyword) {\n            params.append(\"keyword\", keyword);\n        }\n        const response = await axios.get(`${BASE_URL}/products?${params}`);\n        return response.data;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Оформлення підписки на розсилку нових продуків\n\nconst emailToAdd = {\n    email: \"ssss@Comment.ua\",\n};\n\nexport async function postSubscription(data) {\n    const response = await axios.post(`${BASE_URL}/subscription`, data);\n    return response.data;\n} \n\n\n// Оформлення замовлення продуктів\n\nexport async function postOrders(data) {\n    const response = await axios.post(`${BASE_URL}/orders`, data);\n    return response.data;\n}\n\n","import { postSubscription } from \"./api\";\n\nconst footerForm = document.querySelector('.foot-form');\nconst modalSubscription = document.querySelector('.modal-subscription');\nconst modalUnsubscription = document.querySelector('.modal-unsubscription');\nconst modalBackdrop = document.querySelector('.modal-backdrop');\nconst body = document.querySelector('.body');\nconst overflow = document.body.style.overflow;\n\nconst closeModal = event => {\n  const target = event.target;\n  if (target === modalSubscription || target.closest('.close')) {\n    modalSubscription.classList.remove('visible-modal');\n    setTimeout(() => modalSubscription.classList.add('visually-hidden'), 500);\n    modalBackdrop.classList.add('is-hidden');\n\n    document.removeEventListener('keydown', closeModal);\n    body.style.overflow = overflow;\n  }\n  if (target === modalUnsubscription || target.closest('.close')) {\n    modalUnsubscription.classList.remove('visible-modal');\n    setTimeout(() => modalUnsubscription.classList.add('visually-hidden'), 500);\n    modalBackdrop.classList.add('is-hidden');\n\n    document.removeEventListener('keydown', closeModal);\n    body.style.overflow = overflow;\n  }\n\n  if (event.key === 'Escape') {\n    closeModalOption();\n  }\n\n  if (target === modalBackdrop) {\n    closeModalOption();\n  }\n};\n\nconst openModalSub = () => {\n    modalUnsubscription.classList.add('visible-modal');\n    modalUnsubscription.classList.remove('visually-hidden');\n    modalBackdrop.classList.remove('is-hidden');\n    \n    document.addEventListener('keydown', closeModal);\n    body.style.overflow = 'hidden';\n};\n\nconst openModalUnsubscription = () => {\n    modalUnsubscription.classList.add('visible-modal');\n    modalUnsubscription.classList.remove('visually-hidden');\n    modalUnsubscription.classList.remove('is-hidden');\n    \n    document.addEventListener('keydown', closeModal);\n    body.style.overflow = 'hidden';\n};\n\n\nconst handleSubscription = async email => {\n    const body = { email };\n\n    try {\n        const emailToAdd = await postSubscription(body);\n\n        openModalSub();\n        footerForm.reset();\n    } catch (err) {\n        if (err.response.data.message === 'Subscription already exists') {\n            openModalUnsubscription();\n        } else {\n            showError();\n        }\n    }\n};\n\nfunction handleSubmit(e) {\n    e.preventDefault();\n    const inputEmail = document.querySelector('.form-filed');\n    const email = inputEmail.ariaValueMax.trim();\n    handleSubscription(email);\n} \n\nfunction closeModalOption() {\n    modalSubscription.classList.remove('visible-modal');\n    setTimeout(() => modalSubscription.classList.add('visually-hidden'), 500);\n    modalBackdrop.classList.add('is-hidden');\n\n    modalUnsubscription.classList.remove('visible-modal');\n    setTimeout(() => modalUnsubscription.classList.add('visually-hidden'), 500);\n    modalBackdrop.classList.add('is-hidden');\n\n    document.removeEventListener('keydown', closeModal);\n    body.style.overflow = overflow;\n\n    formElem.addEventListener('submit', handleSubmit);\n    modalBackdrop.addEventListener('click', closeModal);\n}\n","  import { getProductsCategories } from './api.js';\n\n  const refs = {\n    filterCatList: document.querySelector('.filters-categories'),\n    form: document.getElementById('fiters-form'),\n    filtersInput: document.querySelector('.filters-input'),\n    filtersCategories: document.querySelector('.filters-categories'),\n};\n\n  if (refs.form) {\n    refs.form.addEventListener('input', handleFiltersSubmit);\n  }\n\n  if (refs.form) {\n    refs.form.addEventListener('submit', handleFiltersSubmit);\n  }\n    \n // if (refs.filtersInput) {\n  //   refs.filtersInput.addEventListener('input', handleInput);\n  // }\n  \n  // function handleInput(event) {\n  //   // Ваш код для обробки введення користувача тут\n  //   console.log('Input value:', event.target.value);\n  //   // Якщо потрібно щось змінити в сховищі, ви можете зробити це тут\n  // }\n\n\n\n\n\n\n  \n  loadCategories();\n\n  async function loadCategories() {\n    try {\n      const categoriesList = await getProductsCategories();\n      const data = categoriesList.data;\n      for (let i = 0; i < data.length; i++) {\n        // заміна \"_\" на \" \"\n        // let result = replaceUnderscoresWithSpaces(data[i]);\n\n        refs.filterCatList.insertAdjacentHTML(\n          'beforeend',\n          `<option class=\"filters-categories-option\" value=\"${data[i]}\">${data[i]}</option>`\n        );\n      }\n    } catch (error) {\n      console.log('err');\n    }\n  }\n\n  const localvalue = { keyword: null, category: null, page: 1, limit: 6 };\n\n  async function handleFiltersSubmit() {\n    const filtersValue = refs.filtersInput.value;\n    console.log(filtersValue)\n    localvalue.keyword = filtersValue;\n    if (filtersValue === '') {\n      localvalue.keyword = null;\n    }\n    const filtersCatValue = refs.filtersCategories.value;\n    localvalue.category = filtersCatValue;\n    if (filtersCatValue === '') {\n      localvalue.category = null;\n    }\n    localStorage.setItem('filters', JSON.stringify(localvalue));\n\n    const filters = {\n      keyword: filtersValue,\n      category: filtersCatValue,\n      byABC: true,\n      byPrice: false,\n      byPopularity: false,\n      page: 1,\n      limit: 6,\n    };\n  }\n\n  changeForm();\n\n  function changeForm() {\n    const filtersParce = JSON.parse(localStorage.getItem('filters'));\n    if (refs.filtersInput) {\n    refs.filtersInput.value = filtersParce.keyword || '';}\n    if (refs.filtersCategories) {\n    refs.filtersCategories.value = filtersParce.category || '';\n    }\n  }\n\n  export function replaceUnderscoresWithSpaces(inputString) {\n    let outputString = inputString.replace(/_/g, ' ');\n    return outputString;\n  }\n","import { getFilteredProduct } from \"./api\";\n\nimport { replaceUnderscoresWithSpaces } from './filters';\n\n\n// функція для отримання продуктів з сервера\n\nasync function getProductsList(keyword, category, page = 1, limit = 6) {\n  const url = `https://food-boutique.b.goit.study/api/products?keyword=${keyword}&category=${category}&page=${page}&limit=${limit}`;\n\n  try {\n    const response = await fetch(url);\n    const products = await response.json();\n    const totalPages = products.totalPages;\n    return products.results;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n    return [];\n  }\n}\n\nasync function getProduct(keyword, category, page = 1, limit = 6) {\n  const url = `https://food-boutique.b.goit.study/api/products?keyword=${keyword}&category=${category}&page=${page}&limit=${limit}`;\n\n  try {\n    const response = await fetch(url);\n    const products = await response.json();\n    const totalPages = products.totalPages;\n    return products;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n    return [];\n  }\n}\n\n// Функція для визначення ліміту в залежності від розміру екрану\n\nfunction getLimit() {\n  const screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n  if (screenWidth >= 1440) {\n    return 9;\n  } else if (screenWidth >= 768) {\n    return 8;\n  } else {\n    return 6; // значення за замовчуванням\n  }\n}\n\n//картка продукта\n\nfunction renderProductCard(data) {\n  let result = replaceUnderscoresWithSpaces(data.category);\n  return `\n    <div class=\"productlist-card modalOn\" data-productlist-id=\"${data._id}\">\n      <div class=\"productlist-background\">\n        <img src=\"${data.img}\" alt=\"${data.name}\" class=\"product-image\">\n      </div>\n      <div class=\"productlist-details\">\n        <div class=\"productlist-details-text\">\n          <h2 class=\"productlist-name\">${data.name}</h2>\n          <div class=\"pl-det\">\n          \n          <div class=\"cat-cont\">\n          <p class=\"productlist-category\">Category:\n          <span class=\"word\">${result}</span></p>\n\n          <p class=\"productlist-size\">Size:\n          <span class=\"word\">${data.size}</span></p>\n          </div>\n\n          <div class=\"popularity-cont\">\n          <p class=\"productlist-popularity\">Popularity:\n          <span class=\"word\">${data.popularity}</span></p>\n          </div>\n\n          </div>\n          <div class=\"price-icon\">\n          <p class=\"productlist-price\">$${data.price.toFixed(2)}</p>\n          <div id=\"${data._id}\" class=\"price-icon-cont inBascet\">\n          <svg class=\"productlist-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\">\n  <path d=\"M2.70005 0.900024C2.46135 0.900024 2.23244 0.994846 2.06365 1.16363C1.89487 1.33241 1.80005 1.56133 1.80005 1.80002C1.80005 2.03872 1.89487 2.26764 2.06365 2.43642C2.23244 2.6052 2.46135 2.70002 2.70005 2.70002H3.79805L4.07255 3.79982C4.07528 3.81249 4.07828 3.82509 4.08155 3.83762L5.30375 8.72462L4.50005 9.52742C3.36605 10.6614 4.16885 12.6 5.77265 12.6H13.5C13.7387 12.6 13.9677 12.5052 14.1364 12.3364C14.3052 12.1676 14.4 11.9387 14.4 11.7C14.4 11.4613 14.3052 11.2324 14.1364 11.0636C13.9677 10.8948 13.7387 10.8 13.5 10.8H5.77265L6.67265 9.90002H12.6C12.7671 9.89993 12.9309 9.85333 13.073 9.76543C13.2151 9.67752 13.33 9.5518 13.4046 9.40232L16.1046 4.00232C16.1732 3.86515 16.2056 3.71273 16.1987 3.55953C16.1918 3.40633 16.1458 3.25744 16.0652 3.12698C15.9846 2.99652 15.872 2.88882 15.7381 2.81409C15.6042 2.73937 15.4534 2.70011 15.3 2.70002H5.65205L5.37305 1.58132C5.32429 1.3867 5.21191 1.21395 5.05374 1.09051C4.89557 0.967076 4.70068 0.90003 4.50005 0.900024H2.70005ZM14.4 14.85C14.4 15.2081 14.2578 15.5514 14.0046 15.8046C13.7515 16.0578 13.4081 16.2 13.05 16.2C12.692 16.2 12.3486 16.0578 12.0955 15.8046C11.8423 15.5514 11.7 15.2081 11.7 14.85C11.7 14.492 11.8423 14.1486 12.0955 13.8954C12.3486 13.6423 12.692 13.5 13.05 13.5C13.4081 13.5 13.7515 13.6423 14.0046 13.8954C14.2578 14.1486 14.4 14.492 14.4 14.85ZM5.85005 16.2C6.20809 16.2 6.55147 16.0578 6.80464 15.8046C7.05782 15.5514 7.20005 15.2081 7.20005 14.85C7.20005 14.492 7.05782 14.1486 6.80464 13.8954C6.55147 13.6423 6.20809 13.5 5.85005 13.5C5.49201 13.5 5.14863 13.6423 4.89545 13.8954C4.64228 14.1486 4.50005 14.492 4.50005 14.85C4.50005 15.2081 4.64228 15.5514 4.89545 15.8046C5.14863 16.0578 5.49201 16.2 5.85005 16.2Z\" fill=\"#E8E8E2\"/>\n</svg>\n          </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n}\n  \nconst storage = localStorage.getItem(\"filters\")\nconst parstedStorage = JSON.parse(storage)\n\nasync function fetchAndRenderProducts(page = 1) {\n  let keyword = parstedStorage.keyword;\n  if (parstedStorage.keyword === null) {\n    keyword=''\n  }\n\n  // let category = parstedStorage.category;\n  let category = parstedStorage.category;\n//   let category = underline(categoryLine)\n// console.log(category);\n\n  if (parstedStorage.category === null) {\n    category=''\n  }\n  const limit = getLimit();\n\n  try {\n    const response = await getProductsList(keyword, category, page, limit);\n    const responsed = await getProduct(keyword, category, page, limit);\n    const products = response;\n\n    const productList = document.getElementById('productList');\n    productList.innerHTML = '';\n\n    products.forEach(product => {\n      productList.innerHTML += renderProductCard(product);\n    });\n\n    const totalPages = responsed.totalPages \n\n    // console.log(page);\n    renderPagination(totalPages, page);\n  } catch (error) {\n    console.error('Помилка:', error);\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchAndRenderProducts();\n});\n\n// функция для смены страницы\nwindow.changePage = function(page) {\n  fetchAndRenderProducts(page);\n  console.log(page)\n};\n\nwindow.addEventListener('resize', fetchAndRenderProducts);\n\n\n\n// подключение файла пагинации\nvar script = document.createElement('script');\nscript.src = '../js/pagination.js';\ndocument.head.appendChild(script);\n\n\n// function underline(inputString) {\n//   let outputString = inputString.replace(/ /g, '_');\n//   return outputString;}","function getRandomProducts(products, count) {\n  const shuffledProducts = products.sort(() => 0.5 - Math.random());\n  return shuffledProducts.slice(0, count);\n}\n\nimport { getPopularProduct } from './api';\nimport { replaceUnderscoresWithSpaces } from './filters';\nfunction renderPopularProductCard(product) {\n  let result = replaceUnderscoresWithSpaces(product.category);\n  return `\n      <div class=\"popular-card modalOpopul\" data-productlist-id=\"${product._id}\">\n       <div class=\"popular-background\">\n        <img src=\"${product.img}\" alt=\"${product.name}\" class=\"popular-img\">\n      </div>\n      <div class=\"popular-descript\">\n        <div class=\"popular-descript-text\">\n          <p class=\"popular-name\">${product.name}</p>\n          <div class=\"pop-frame\">\n\n          <div class=\"category-cont\">\n          <p class=\"popular-text\">Category:\n          <span class=\"word\">${result}</span></p>\n<ul class=\"pop-text-two-cat\">\n<li class=\"pop-text-size-pop\">\n          <p class=\"popular-text\">Size:\n          <span class=\"word\">${product.size}</span></p></li>\n          <li>\n          <p class=\"popular-text\">Popularity:\n          <span class=\"word\">${product.popularity}</span></p></li></ul>\n          </div>\n\n           <div class=\"popularname-price\">\n           </div>\n           <div id=\"${product._id}\" class=\"popular-icon-cont inBascet\">\n           <svg class=\"popular-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\">\n  <path d=\"M1.79995 0.6C1.64082 0.6 1.48821 0.663214 1.37569 0.775736C1.26317 0.888258 1.19995 1.04087 1.19995 1.2C1.19995 1.35913 1.26317 1.51174 1.37569 1.62426C1.48821 1.73679 1.64082 1.8 1.79995 1.8H2.53195L2.71495 2.5332C2.71677 2.54164 2.71877 2.55004 2.72095 2.5584L3.53575 5.8164L2.99995 6.3516C2.24395 7.1076 2.77915 8.4 3.84835 8.4H8.99995C9.15908 8.4 9.31169 8.33678 9.42421 8.22426C9.53674 8.11174 9.59995 7.95913 9.59995 7.8C9.59995 7.64087 9.53674 7.48826 9.42421 7.37574C9.31169 7.26321 9.15908 7.2 8.99995 7.2H3.84835L4.44835 6.6H8.39995C8.51135 6.59994 8.62053 6.56887 8.71527 6.51027C8.81 6.45167 8.88656 6.36785 8.93635 6.2682L10.7363 2.6682C10.782 2.57675 10.8036 2.47513 10.799 2.373C10.7944 2.27087 10.7638 2.17161 10.7101 2.08464C10.6563 1.99766 10.5813 1.92586 10.492 1.87605C10.4027 1.82623 10.3022 1.80005 10.1999 1.8H3.76795L3.58195 1.0542C3.54945 0.924452 3.47452 0.809286 3.36908 0.726994C3.26363 0.644702 3.13371 0.600004 2.99995 0.6H1.79995ZM9.59995 9.9C9.59995 10.1387 9.50513 10.3676 9.33635 10.5364C9.16756 10.7052 8.93864 10.8 8.69995 10.8C8.46126 10.8 8.23234 10.7052 8.06355 10.5364C7.89477 10.3676 7.79995 10.1387 7.79995 9.9C7.79995 9.6613 7.89477 9.43239 8.06355 9.2636C8.23234 9.09482 8.46126 9 8.69995 9C8.93864 9 9.16756 9.09482 9.33635 9.2636C9.50513 9.43239 9.59995 9.6613 9.59995 9.9ZM3.89995 10.8C4.13865 10.8 4.36756 10.7052 4.53635 10.5364C4.70513 10.3676 4.79995 10.1387 4.79995 9.9C4.79995 9.6613 4.70513 9.43239 4.53635 9.2636C4.36756 9.09482 4.13865 9 3.89995 9C3.66126 9 3.43234 9.09482 3.26355 9.2636C3.09477 9.43239 2.99995 9.6613 2.99995 9.9C2.99995 10.1387 3.09477 10.3676 3.26355 10.5364C3.43234 10.7052 3.66126 10.8 3.89995 10.8Z\" fill=\"#6D8434\"/>\n</svg> \n          </div>\n        </div>\n      </div>\n    </div>\n    </div>\n  `;\n}\n\nasync function renderPopularProducts() {\n  try {\n    const products = await getPopularProduct();\n\n    // Перевірте, чи products - це масив\n    if (!Array.isArray(products)) {\n      console.error('Невірний формат даних: Очікувався масив.');\n      return;\n    }\n\n    // Перевірте, чи масив products не порожній\n    if (products.length === 0) {\n      console.warn('Немає доступних товарів зі знижкою.');\n      return;\n    }\n\n    const randomProducts = getRandomProducts(products, 5);\n    const popularContainer = document.getElementById('popularContainer');\n\n    const fragment = document.createDocumentFragment();\n    randomProducts.forEach(product => {\n      fragment.appendChild(renderPopularProductCard(product));\n    });\n\n    popularContainer.appendChild(fragment);\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\n// Fetch discount products and render them\ngetPopularProduct()\n  .then(response => response.data)\n  .then(products => {\n    const randomProducts = getRandomProducts(products, 5);\n    const popularContainer = document.getElementById('popularContainer');\n\n    randomProducts.forEach(product => {\n      popularContainer.innerHTML += renderPopularProductCard(product);\n    });\n  })\n  .catch(error => {\n    console.error(error.message);\n  });\n","function getRandomProducts(products, count) {\n  const shuffledProducts = products.sort(() => 0.5 - Math.random());\n  return shuffledProducts.slice(0, count);\n}\n\nimport { getDiskountProduct } from './api';\n\n  function renderDiscountProductCard(product) {\n    return `\n      <div class=\"product-card modalOndisc\" data-productlist-id=\"${product._id}\">\n        <div class=\"product-background\">\n\n        <div class=\"discount-label\">\n      <svg class=\"dicount-label-icon\" width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<circle cx=\"30\" cy=\"30\" r=\"30\" fill=\"#6D8434\"/>\n<path d=\"M50.5248 39.1172L50.0883 40.2992L42.0374 37.3327L42.474 36.1507L43.1383 36.3955L43.1466 36.373C42.8648 35.9239 42.6335 35.1992 42.9619 34.3099C43.5065 32.8353 45.0583 32.1665 46.95 32.8636C48.8416 33.5606 49.5869 35.0757 49.0423 36.5503C48.7139 37.4396 48.0894 37.849 47.538 37.9911L47.5297 38.0136L50.5248 39.1172ZM43.8554 34.8694C43.4979 35.8374 44.077 36.7286 45.3494 37.1975C46.633 37.6704 47.6416 37.3642 47.9991 36.3962C48.3816 35.3605 47.6394 34.4604 46.5134 34.0455C45.3874 33.6306 44.2379 33.8337 43.8554 34.8694Z\" fill=\"#FAFAFA\"/>\n<path d=\"M47.049 42.2422C47.2548 41.9615 47.6615 41.8128 48.0103 42.0677C48.359 42.3226 48.3302 42.7475 48.1245 43.0281C47.9045 43.3281 47.5146 43.4742 47.1658 43.2193C46.817 42.9644 46.8291 42.5421 47.049 42.2422ZM46.5848 41.13L45.8397 42.1461L40.889 38.5279L41.6341 37.5118L46.5848 41.13Z\" fill=\"#FAFAFA\"/>\n<path d=\"M40.928 43.6924C39.889 44.2058 38.7834 44.7895 37.8508 43.6611C37.1016 42.7546 37.4135 41.5497 38.5623 40.604C40.091 39.3456 41.3374 39.5163 42.2094 40.4772L41.2644 41.2551C40.7976 40.7845 40.2159 40.5328 39.2153 41.3565C38.539 41.9132 38.527 42.4826 38.7717 42.7786C39.2609 43.3706 39.8643 42.9516 40.6968 42.5461C41.5924 42.1041 42.7339 41.4132 43.6207 42.4861C44.2628 43.2631 44.0895 44.4472 42.9036 45.4234C41.6158 46.4835 40.431 46.2932 39.6857 45.5233L40.6307 44.7454C41.0014 45.062 41.5001 45.2887 42.2598 44.6633C42.8435 44.1828 42.975 43.7015 42.6998 43.3686C42.3022 42.8876 41.7436 43.2853 40.928 43.6924Z\" fill=\"#FAFAFA\"/>\n<path d=\"M34.4065 47.1788C34.6536 47.7539 35.2728 48.342 36.2955 47.9947C37.4658 47.5972 37.6245 46.428 37.2523 45.3378C36.8801 44.2476 36.0502 43.4142 34.8685 43.8155C33.8459 44.1628 33.7113 44.9943 33.8869 45.657L32.6938 46.0622C32.3272 44.6913 33.0238 43.3521 34.5351 42.8389C36.2735 42.2485 37.825 43.1157 38.4454 44.9327C39.0658 46.7497 38.3674 48.3809 36.6403 48.9674C35.1291 49.4807 33.8109 48.8511 33.2134 47.5839L34.4065 47.1788Z\" fill=\"#FAFAFA\"/>\n<path d=\"M29.262 43.5846C31.1784 43.7018 32.2595 45.1023 32.1438 47.0068C32.0281 48.9113 30.7855 50.1698 28.8691 50.0527C26.9527 49.9355 25.8716 48.535 25.9873 46.6305C26.103 44.726 27.3455 43.4675 29.262 43.5846ZM29.1994 44.6147C28.0016 44.5415 27.3213 45.4497 27.2449 46.7073C27.1678 47.977 27.7339 48.9494 28.9317 49.0226C30.1294 49.0958 30.809 48.1996 30.8861 46.9299C30.9625 45.6723 30.3972 44.6879 29.1994 44.6147Z\" fill=\"#FAFAFA\"/>\n<path d=\"M20.1946 47.3901L19.0609 46.8401L21.7436 41.3261L22.8772 41.8761L22.5308 42.5883L22.5523 42.5987C23.0538 42.3085 23.836 42.1545 24.7861 42.6155C25.8118 43.1131 26.3328 44.0995 25.7185 45.362L23.8653 49.1711L22.7209 48.6158L24.4166 45.1304C24.7789 44.3859 24.6968 43.7592 23.9194 43.382C23.0449 42.9578 22.2263 43.2141 21.8273 44.0342L20.1946 47.3901Z\" fill=\"#FAFAFA\"/>\n<path d=\"M14.6871 43.0438C13.9262 42.1948 13.8179 41.0851 14.8653 40.1501L18.0253 37.3291L18.8742 38.2763L15.9828 40.8576C15.3651 41.409 15.2035 42.0198 15.7801 42.6632C16.4288 43.3871 17.2839 43.4602 17.9642 42.8528L20.7483 40.3675L21.5892 41.3058L17.0148 45.3894L16.1739 44.4511L16.7647 43.9237L16.7487 43.9058C16.1744 43.9842 15.3918 43.8302 14.6871 43.0438Z\" fill=\"#FAFAFA\"/>\n<path d=\"M12.0886 36.3297L12.5634 37.3793L15.5945 36.0149C16.2291 35.7292 16.1672 35.3886 15.7872 34.6648L16.7282 34.2412C16.8868 34.4462 17.0334 34.6829 17.1718 34.989C17.5873 35.9074 17.399 36.5975 16.2172 37.1295L13.0876 38.5383L13.4536 39.3474L12.5126 39.771L12.1466 38.9619L10.3849 39.7549L9.86062 38.596L11.6224 37.803L11.1476 36.7533L12.0886 36.3297Z\" fill=\"#FAFAFA\"/>\n<path d=\"M8.42611 23.7142L8.69997 22.4843L17.0753 24.3473L16.8014 25.5771L16.1103 25.4234L16.1051 25.4468C16.4446 25.8543 16.7711 26.5416 16.565 27.4669C16.2234 29.0013 14.7756 29.8717 12.8077 29.434C10.8397 28.9963 9.89794 27.5943 10.2396 26.0599C10.4457 25.1346 11.0095 24.6453 11.5367 24.4307L11.542 24.4073L8.42611 23.7142ZM15.6046 27.032C15.8289 26.0247 15.1355 25.2189 13.8118 24.9244C12.4764 24.6274 11.5183 25.0658 11.2939 26.0732C11.054 27.1508 11.9101 27.9436 13.0815 28.2041C14.2529 28.4647 15.3646 28.1096 15.6046 27.032Z\" fill=\"#FAFAFA\"/>\n<path d=\"M11.4424 20.1526C11.2761 20.4583 10.8931 20.6601 10.5134 20.4542C10.1336 20.2482 10.1052 19.8233 10.2715 19.5176C10.4492 19.1908 10.8159 18.9938 11.1957 19.1997C11.5754 19.4057 11.6201 19.8258 11.4424 20.1526ZM12.0514 21.1927L12.6535 20.0858L18.0439 23.0091L17.4418 24.1159L12.0514 21.1927Z\" fill=\"#FAFAFA\"/>\n<path d=\"M17.3269 17.8758C18.2897 17.2308 19.3092 16.5073 20.3816 17.504C21.243 18.3046 21.0915 19.54 20.0765 20.6281C18.7259 22.0759 17.4679 22.0699 16.4777 21.2314L17.3126 20.3364C17.837 20.7419 18.4466 20.9152 19.3306 19.9676C19.9282 19.327 19.8655 18.7609 19.5842 18.4995C19.0217 17.9766 18.4784 18.471 17.7063 18.9821C16.8762 19.5376 15.8352 20.3721 14.8156 19.4244C14.0773 18.7382 14.0941 17.5415 15.1418 16.4183C16.2796 15.1986 17.4791 15.2322 18.3187 15.8979L17.4838 16.7929C17.0749 16.5276 16.5508 16.3681 15.8796 17.0876C15.3639 17.6404 15.2965 18.1348 15.6129 18.4289C16.07 18.8538 16.5717 18.3863 17.3269 17.8758Z\" fill=\"#FAFAFA\"/>\n<path d=\"M23.243 13.5934C22.9202 13.0571 22.2269 12.5583 21.2607 13.0409C20.1549 13.5931 20.1561 14.7729 20.6728 15.8025C21.1895 16.8322 22.1247 17.5455 23.2412 16.9878C24.2074 16.5053 24.228 15.6634 23.9642 15.0306L25.0914 14.4676C25.6406 15.7761 25.1318 17.1971 23.704 17.9102C22.0615 18.7306 20.4067 18.0816 19.5456 16.3655C18.6845 14.6494 19.1553 12.9388 20.7871 12.1238C22.2149 11.4107 23.6064 11.8559 24.3702 13.0304L23.243 13.5934Z\" fill=\"#FAFAFA\"/>\n<path d=\"M28.8224 16.4354C26.9074 16.5748 25.6486 15.3309 25.5083 13.4281C25.3681 11.5253 26.4311 10.1123 28.346 9.97288C30.2609 9.83344 31.5198 11.0773 31.66 12.9801C31.8003 14.883 30.7373 16.2959 28.8224 16.4354ZM28.7465 15.4061C29.9433 15.319 30.496 14.3282 30.4034 13.0716C30.3099 11.8031 29.6187 10.9149 28.4219 11.0021C27.225 11.0892 26.6715 12.068 26.765 13.3366C26.8576 14.5932 27.5497 15.4933 28.7465 15.4061Z\" fill=\"#FAFAFA\"/>\n<path d=\"M37.349 11.4476L38.5456 11.8424L36.6209 17.6645L35.4243 17.2697L35.6729 16.5178L35.6501 16.5102C35.1918 16.8645 34.4371 17.121 33.4343 16.7901C32.3517 16.433 31.7041 15.5244 32.1448 14.1913L33.4744 10.1694L34.6823 10.5679L33.4658 14.248C33.2059 15.0342 33.3706 15.6445 34.1912 15.9152C35.1142 16.2197 35.8914 15.8569 36.1776 14.991L37.349 11.4476Z\" fill=\"#FAFAFA\"/>\n<path d=\"M43.3935 15.008C44.2592 15.7498 44.5122 16.8358 43.5967 17.9003L40.8346 21.112L39.8688 20.2842L42.3961 17.3456C42.936 16.7178 43.0161 16.091 42.36 15.5288C41.6219 14.8963 40.7647 14.9361 40.17 15.6275L37.7366 18.457L36.7799 17.6371L40.7782 12.988L41.735 13.8079L41.2185 14.4084L41.2368 14.424C41.7958 14.2709 42.5917 14.3208 43.3935 15.008Z\" fill=\"#FAFAFA\"/>\n<path d=\"M46.8445 21.2669L46.2328 20.2907L43.4128 22.0505C42.8223 22.4189 42.9295 22.7481 43.4035 23.4141L42.528 23.9604C42.3433 23.7787 42.1662 23.5639 41.9877 23.2792C41.4524 22.4251 41.5461 21.7159 42.6456 21.0298L45.5572 19.2129L45.0857 18.4605L45.9612 17.9142L46.4328 18.6666L48.0718 17.6438L48.7473 18.7216L47.1083 19.7444L47.7201 20.7205L46.8445 21.2669Z\" fill=\"#FAFAFA\"/>\n<path d=\"M32.9166 27.6667C27.6666 28.8333 26.4416 32.4325 25.2283 35.4483L26.3308 35.8333L26.885 34.4917C27.165 34.5908 27.4566 34.6667 27.6666 34.6667C34.0833 34.6667 35.8333 24.75 35.8333 24.75C35.25 25.9167 31.1666 26.0625 28.25 26.6458C25.3333 27.2292 24.1666 29.7083 24.1666 30.875C24.1666 32.0417 25.1875 33.0625 25.1875 33.0625C27.0833 27.6667 32.9166 27.6667 32.9166 27.6667Z\" fill=\"#FAFAFA\"/>\n</svg>\n      </div>\n\n          <img src=\"${product.img}\" alt=\"${product.name}\" class=\"product-image\">\n        </div>\n        <div class=\"product-details\">\n          <div class=\"details-text\">\n\n          <div class=\"name-price\">\n          <h2 class=\"product-name\">${product.name}</h2>\n          <p class=\"product-price\">$${product.price.toFixed(2)}</p>\n          </div>\n          \n          <div id=\"${product._id}\" class=\"discount-icon-cont inBascet\">\n          <svg class=\"discount-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\">\n  <path d=\"M2.70005 0.899994C2.46135 0.899994 2.23244 0.994815 2.06365 1.1636C1.89487 1.33238 1.80005 1.5613 1.80005 1.79999C1.80005 2.03869 1.89487 2.26761 2.06365 2.43639C2.23244 2.60517 2.46135 2.69999 2.70005 2.69999H3.79805L4.07255 3.79979C4.07528 3.81246 4.07828 3.82506 4.08155 3.83759L5.30375 8.72459L4.50005 9.52739C3.36605 10.6614 4.16885 12.6 5.77265 12.6H13.5C13.7387 12.6 13.9677 12.5052 14.1364 12.3364C14.3052 12.1676 14.4 11.9387 14.4 11.7C14.4 11.4613 14.3052 11.2324 14.1364 11.0636C13.9677 10.8948 13.7387 10.8 13.5 10.8H5.77265L6.67265 9.89999H12.6C12.7671 9.8999 12.9309 9.8533 13.073 9.7654C13.2151 9.67749 13.33 9.55177 13.4046 9.40229L16.1046 4.00229C16.1732 3.86512 16.2056 3.7127 16.1987 3.5595C16.1918 3.4063 16.1458 3.25741 16.0652 3.12695C15.9846 2.99649 15.872 2.88879 15.7381 2.81406C15.6042 2.73934 15.4534 2.70008 15.3 2.69999H5.65205L5.37305 1.58129C5.32429 1.38667 5.21191 1.21392 5.05374 1.09048C4.89557 0.967046 4.70068 0.899999 4.50005 0.899994H2.70005ZM14.4 14.85C14.4 15.208 14.2578 15.5514 14.0046 15.8046C13.7515 16.0578 13.4081 16.2 13.05 16.2C12.692 16.2 12.3486 16.0578 12.0955 15.8046C11.8423 15.5514 11.7 15.208 11.7 14.85C11.7 14.492 11.8423 14.1486 12.0955 13.8954C12.3486 13.6422 12.692 13.5 13.05 13.5C13.4081 13.5 13.7515 13.6422 14.0046 13.8954C14.2578 14.1486 14.4 14.492 14.4 14.85ZM5.85005 16.2C6.20809 16.2 6.55147 16.0578 6.80464 15.8046C7.05782 15.5514 7.20005 15.208 7.20005 14.85C7.20005 14.492 7.05782 14.1486 6.80464 13.8954C6.55147 13.6422 6.20809 13.5 5.85005 13.5C5.49201 13.5 5.14863 13.6422 4.89545 13.8954C4.64228 14.1486 4.50005 14.492 4.50005 14.85C4.50005 15.208 4.64228 15.5514 4.89545 15.8046C5.14863 16.0578 5.49201 16.2 5.85005 16.2Z\" fill=\"#E8E8E2\"/>\n</svg>\n          </div>\n\n        </div>\n      </div>\n    `;\n  }\n  \nasync function renderDiscountProducts() {\n  try {\n    const products = await getDiskountProduct();\n\n    // Перевірте, чи products - це масив\n    if (!Array.isArray(products)) {\n      console.error(\"Невірний формат даних: Очікувався масив.\");\n      return;\n    }\n\n    // Перевірте, чи масив products не порожній\n    if (products.length === 0) {\n      console.warn(\"Немає доступних товарів зі знижкою.\");\n      return;\n    }\n\n    const randomProducts = getRandomProducts(products, 2);\n    const discountContainer = document.getElementById('discountContainer');\n\n    const fragment = document.createDocumentFragment();\n    randomProducts.forEach(product => {\n      fragment.appendChild(renderDiscountProductCard(product));\n    });\n\n    discountContainer.appendChild(fragment);\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\n// Fetch discount products and render them\ngetDiskountProduct()\n  .then(response => response.data)\n  .then(products => {\n    const randomProducts = getRandomProducts(products, 2);\n    const discountContainer = document.getElementById('discountContainer');\n\n    randomProducts.forEach(product => {\n      discountContainer.innerHTML += renderDiscountProductCard(product);\n    });\n  })\n  .catch(error => {\n    console.error(error.message);\n  });","import { getProductById } from './api.js';\n\nconst refs = {\n  cart: document.querySelector('.productlist-card'),\n};\n\nexport function addToCart(id) {\n  try {\n    console.log(id);\n\n    let myArray = JSON.parse(localStorage.getItem('cart')) || [];\n    console.log(myArray);\n    // Об'єкт, який потрібно додати до масиву\n    const newCart = { id: id, pieces: '1' };\n\n    // Додавання нового об'єкта до масиву\n    myArray.push(newCart);\n\n    // Оновлення масиву об'єктів у localStorage\n    localStorage.setItem('cart', JSON.stringify(myArray));\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nasync function getProduct(id, btn) {\n  const modalContent = document.querySelector('.modal-content');\n  modalContent.innerHTML = '';\n  const product = await getProductById(id);\n  modalContent.innerHTML = renderModalContent(product, btn);\n}\n\nfunction renderModalContent(product, btn) {\n  return `\n    <div class=\"modal-product-img\">\n      <img src=\"${product.img}\" alt=\"${product.name}\" />\n    </div>\n    <div class=\"modal-product-info\">\n        <h4 class=\"modal-product-title\">${product.name}</h4>\n      <div class=\"modal-product-characteristics\">\n        <div>Category: <span>${product.category}</span></div>\n        <div>Size: <span>${product.size}</span></div>\n        <div>Popularity: <span>${product.popularity}</span></div>\n      </div>\n      <p class=\"modal-product-description\">\n      ${product.desc}\n      </p>\n    </div>\n    <div class=\"modal-product-price\">$${product.price.toFixed(2)}</div>\n    <button class=\"modal-product-button\" data-productlist-id=\"${\n      product._id\n    }\"> ${btn}<svg class=\"modal-product-button-icon\">\n    <use class=\"modal-product-button-icon\" href=\"./icons.svg#icon-heroicons-solid_shopping-cart\"></use>\n  </svg></button>\n    `;\n}\n\nconst modal = document.querySelector('.modal');\nconst closeButton = document.querySelector('.close-button');\n\nfunction openModal() {\n  modal.classList.add('show-modal');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeModal() {\n  modal.classList.remove('show-modal');\n  document.body.style.overflow = 'auto';\n}\n\nfunction windowOnClick(event) {\n  if (event.target === modal) {\n    closeModal();\n  }\n}\n\ncloseButton.addEventListener('click', closeModal);\nwindow.addEventListener('click', windowOnClick);\n\ndocument.addEventListener('keydown', function (e) {\n  if (e.keyCode === 27) closeModal();\n});\n\ndocument.addEventListener('click', function (e) {\n  if (!e.target.classList.contains('modal-product-button')) {\n    return;\n  }\n  const id = e.target.dataset.productlistId;\n\n  e.target.addEventListener('click', addToCart(id));\n  e.target.addEventListener('click', closeModal());\n});\n\nfunction waitForElements(selector) {\n  return new Promise((resolve, reject) => {\n    const elements = document.querySelectorAll(selector);\n\n    if (elements.length > 0) {\n      resolve(elements);\n    } else {\n      const observer = new MutationObserver(() => {\n        const updatedElements = document.querySelectorAll(selector);\n        if (updatedElements.length > 0) {\n          observer.disconnect();\n          resolve(updatedElements);\n        }\n      });\n\n      observer.observe(document.documentElement, {\n        childList: true,\n        subtree: true,\n      });\n    }\n  });\n}\n\n{\n  /* // Очікуємо на появу всіх елементів з класом modalOn */\n}\nwaitForElements('.modalOn')\n  .then(elements => {\n    elements.forEach(element => {\n      element.addEventListener('click', e => {\n        const id = e.currentTarget.dataset.productlistId;\n        if (localStorage.getItem(id)) {\n          getProduct(id, 'Remove from');\n        } else {\n          getProduct(id, 'Add to');\n        }\n\n        openModal();\n      });\n    });\n  })\n  .catch(error => {\n    console.error(error.message);\n  });\n\nwaitForElements('.modalOndisc')\n  .then(elements => {\n    elements.forEach(element => {\n      element.addEventListener('click', e => {\n        const id = e.currentTarget.dataset.productlistId;\n        if (localStorage.getItem(id)) {\n          getProduct(id, 'Remove from');\n        } else {\n          getProduct(id, 'Add to');\n        }\n\n        openModal();\n      });\n    });\n  })\n  .catch(error => {\n    console.error(error.message);\n  });\n\nwaitForElements('.modalOpopul')\n  .then(elements => {\n    elements.forEach(element => {\n      element.addEventListener('click', e => {\n        const id = e.currentTarget.dataset.productlistId;\n        if (localStorage.getItem(id)) {\n          getProduct(id, 'Remove from');\n        } else {\n          getProduct(id, 'Add to');\n        }\n\n        openModal();\n      });\n    });\n  })\n  .catch(error => {\n    console.error(error.message);\n  });\n","import { getProductById } from './api.js';\n\n\nconst STORAGE_KEY = \"cart\";\n\n// запис ID в локал сторидж\nexport function saveDataInLS(data, key) {\n    localStorage.setItem(key, JSON.stringify(data));\n}\n    \nconst refs = {\n        cartBlock: document.querySelector(\".js-cart-block\"),\n        cartCounter: document.querySelector(\"span#cart-counter\"),\n        deleteAllBtn: document.querySelector(\".delete-all-btn\"),\n        cartDeleteAllBlock: document.querySelector(\".cart-delete-all-section\"),\n        cartListBlock: document.querySelector(\".cart-list-block\"),\n        cartEmptyCart: document.querySelector(\".cart-empty-cart\"),\n        yourOrderPrice: document.querySelector(\".cart-total-price\"),\n        spanYourOrderPrice: document.querySelector(\"span#your-order-total-price\"),\n        cardDeleteOneBtn: document.querySelector(\".carg-delete-all-btn\"),\n    }\n\n// showBtnLoad();\nhideBtnLoad();\nfunction hideBtnLoad() {\n    if (refs.cartDeleteAllBlock) {\n        refs.cartDeleteAllBlock.setAttribute('hidden', '');\n    }\n    if (refs.yourOrderPrice) {\n        refs.yourOrderPrice.setAttribute('hidden', '');\n    }\n    if (refs.cartEmptyCart) {\n        refs.cartEmptyCart.removeAttribute('hidden', '');\n    }\n}\n\n\nfunction showBtnLoad() {\n    refs.cartDeleteAllBlock.removeAttribute('hidden', '');\n    refs.yourOrderPrice.removeAttribute('hidden', '');\n    refs.cartEmptyCart.setAttribute('hidden', '');\n}\n\ncartUsage();\n\n// використання корзини\nexport async function cartUsage() {\n    let cartArr = await getDataFromLS(STORAGE_KEY);\n            \n    // каунтер - productQuantity(cartArr);\n    refs.cartCounter.textContent = cartArr.length;\n\n    if (cartArr.length === 0) {\n        refs.cartBlock.innerHTML = createMarkupEmptyCart();\n        hideBtnLoad();\n        return;\n     }\n     showBtnLoad();\n    renderCards(cartArr);\n  \n refs.deleteAllBtn.addEventListener(\"click\", deleteAllProducts);\n}\n\nasync function renderCards() {\n  refs.cartListBlock.innerHTML = \"\";\n\n  let cartArr = await getDataFromLS(STORAGE_KEY);\n\n  for (const cartArrItem of cartArr) {\n    let id = cartArrItem.id;\n\n    try {\n      const response = await getProductById(id);\n      const cartId = renderProductCard(response, id);\n      refs.cartListBlock.innerHTML += cartId;\n\n      const deleteBtn = document.querySelector(`.js-cart-block .cart-card[data-productlist-id=\"${id}\"] .card-delete-all-btn`);\n      deleteBtn.addEventListener(\"click\", () => {\n        deleteOneProduct(id);\n\n        // Remove the removed card from `cartListBlock`\n        const cartList = document.querySelector(\".js-cart-block .cart-list\");\n        const cartItem = cartList.querySelector(`.cart-card[data-productlist-id=\"${id}\"]`);\n        cartList.removeChild(cartItem);\n      });\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n\n  sum(cartArr);\n  refs.cartCounter.textContent = cartArr.length;\n}\n\n function getDataFromLS(key) {\n    try {\n        const data = localStorage.getItem(key);\n        return data ? JSON.parse(data) : [];\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n\n\n// Видалення ВСІХ товарів з корзини\n function deleteAllProducts() {\n    localStorage.removeItem(STORAGE_KEY);\n    refs.cartBlock.innerHTML = createMarkupEmptyCart();\n    refs.cartCounter.textContent = 0; \n}\n\n\n // Видалення ОДНОГО товар з корзини\nasync function deleteOneProduct(id) {\n    let cartArr = getDataFromLS(STORAGE_KEY);\n    let productIndex = cartArr.findIndex(item => item.id === id);\n\n    if (productIndex !== -1) {\n        cartArr.splice(productIndex, 1);\n        saveDataInLS(cartArr, STORAGE_KEY);\n        refs.cartListBlock.innerHTML = \"\"; \n        await renderCards(cartArr);\n        sum(cartArr);\n        refs.cartCounter.textContent = cartArr.length; \n\n        if (cartArr.length === 0) {\n            refs.cartBlock.innerHTML = createMarkupEmptyCart();\n            hideBtnLoad();\n        }\n    }\n}\n\n// розрахунок суми\nasync function sum(cartArr) {\n    try {\n        let totalSum = 0;\n        const promises = cartArr.map(cartArrItem => getProductById(cartArrItem.id));\n\n        const responses = await Promise.all(promises);\n\n        responses.forEach(response => {\n            let productPrice = response.price;\n            totalSum += productPrice;\n        });\n\n        refs.spanYourOrderPrice.textContent = `$${Number(totalSum.toFixed(2))}`;\n    } catch (error) {\n        console.error(error.message);\n    }\n}\n\n// розмітка пустої корзини\nfunction createMarkupEmptyCart() {\n    return `\n    <div class=\"js-cart-block\">\n      <div class=\"cart-empty-cart\">\n        <div class=\"cart-img-empty-cart\">\n          <img\n            class=\"img-shopping-cart\"\n            src=\"/img/cart/yellow-shopping-basket.png\"\n            width=\"132\"\n            height=\"114\"\n          />\n          \n        </div>\n        <div class=\"cart-text\">\n            <p class=\"cart-text-empty\">\n              Your basket is <span class=\"cart-text-span\">empty...</span>\n            </p>\n            <p class=\"cart-all-text\">\n              Go to the main page to select your favorite <br />\n              products and add them to the cart.\n            </p>\n          </div>\n      </div>\n    </div>`\n}\n\n// розмітка кнопки Delete all\nfunction createMarcupDeleteAllBtn() {\n    return `<p class=\"delete-all-text\">Delete all</p>\n        <button type=\"button\" class=\"delete-all-btn\">\n          <svg class=\"delete-close-icon\" width=\"13.5\" height=\"13.5\">\n            <use href=\"../img/cart/delete-btn.jpg\"></use>\n          </svg>\n        </button>`\n}\n//картка продукта\nfunction renderProductCard(data) {\n     \n    let result = cartReplaceUnderscoresWithSpaces(data.category);\n  return `\n    <div class=\"cart-card\" data-productlist-id=\"${data._id}\">\n      <div class=\"cart-background\">\n        <img src=\"${data.img}\" alt=\"${data.name}\" class=\"cart-image\">\n      </div>\n      <div class=\"cart-details\">\n        <div class=\"cart-details-text\">\n        <div class=\"cart-close-icon\">\n          <h2 class=\"cart-name\">${data.name}</h2>\n          <button type=\"button\" class=\"card-delete-all-btn\">\n          <svg class=\"card-delete-close-icon\">\n            <use href=\"./icons.svg#icon-close-mini\"></use>\n          </svg>\n        </button>\n          </div>\n          <div class=\"cart-pl-det\">\n            <div class=\"cart-category-cont\">\n             <p class=\"cart-category\">Category:\n                <span class=\"cart-word\">${result}</span></p></div>\n              <div>  \n             <p class=\"cart-size\">Size:\n                <span class=\"cart-word\">${data.size}</span></p></div>\n            </div>\n          </div>\n          <div class=\"cart-price\">\n          <p class=\"cart-price\">$${data.price.toFixed(2)}</p> \n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n    \n}\n     \n\nfunction cartReplaceUnderscoresWithSpaces(inputString) {\n  let outputString = inputString.replace(/_/g, ' ');\n  return outputString;\n}\n\n\n\n\n\n\n// async function renderCards() {\n//   refs.cartListBlock.innerHTML = \"\";\n//     let cartArr = getDataFromLS(STORAGE_KEY);\n    \n//     for (const cartArrItem of cartArr) {\n//         let id = cartArrItem.id;\n//         console.log(id);\n\n//         try {\n//             const response = await getProductById(id);\n//             const cartId = renderProductCard(response, id);\n//             refs.cartListBlock.innerHTML += cartId;\n\n//             const deleteBtn = document.querySelector(`.js-cart-block .cart-card[data-productlist-id=\"${id}\"] .card-delete-all-btn`);\n//             deleteBtn.addEventListener(\"click\", () => {\n//                 deleteOneProduct(id);\n//             });\n\n//         } catch (error) {\n//             console.error(error.message);\n//         }\n//     }\n\n//     sum(cartArr);\n\n//     refs.cartCounter.textContent = cartArr.length;\n// }\n// ","import './js/footer';\nimport './js/header';\nimport './js/hero';\nimport './js/filters';\nimport './js/prodacts-list';\nimport './js/popular-prodacts';\nimport './js/discount';\nimport './js/api';\nimport './js/modal';\nimport './js/cart';\n\nfunction waitForElements(selector) {\n    return new Promise((resolve, reject) => {\n        const elements = document.querySelectorAll(selector);\n\n        if (elements.length > 0) {\n            resolve(elements);\n        } else {\n            const observer = new MutationObserver(() => {\n                const updatedElements = document.querySelectorAll(selector);\n                if (updatedElements.length > 0) {\n                    observer.disconnect();\n                    resolve(updatedElements);\n                }\n            });\n\n            observer.observe(document.documentElement, {\n                childList: true,\n                subtree: true\n            });\n        }\n    });\n}\n\n{/* // Очікуємо на появу всіх елементів з класом inBascet */}\nwaitForElements('.inBascet')\n    .then((elements) => {\n        elements.forEach((element) => {\n            element.addEventListener('click', (e) => {\n                const id={\n                    id: e.currentTarget.id,\n                    pieces: \"1\",\n                }\n                // console.log(id);\n                // localStorage.setItem('data', JSON.stringify(id));\n\n\n                let myArray = JSON.parse(localStorage.getItem('cart')) || [];\nconsole.log(myArray);\n                // Об'єкт, який потрібно додати до масиву\n                const newCart = { id: e.currentTarget.id, pieces: '1' };\n\n                // Додавання нового об'єкта до масиву\n                myArray.push(newCart);\n\n                // Оновлення масиву об'єктів у localStorage\n                localStorage.setItem('cart', JSON.stringify(myArray));\n\n\n            });\n        });\n    })\n    .catch((error) => {\n        console.error(error.message);\n    });"],"names":["BASE_URL","getProductsCategories","axios","error","getProductById","id","getPopularProduct","getDiskountProduct","refs","handleFiltersSubmit","loadCategories","data","i","localvalue","filtersValue","filtersCatValue","changeForm","filtersParce","replaceUnderscoresWithSpaces","inputString","getProductsList","keyword","category","page","limit","url","products","totalPages","getProduct","getLimit","screenWidth","renderProductCard","result","storage","parstedStorage","fetchAndRenderProducts","response","responsed","productList","product","script","getRandomProducts","count","renderPopularProductCard","randomProducts","popularContainer","renderDiscountProductCard","discountContainer","addToCart","myArray","newCart","btn","modalContent","renderModalContent","modal","closeButton","openModal","closeModal","windowOnClick","event","e","waitForElements","selector","resolve","reject","elements","observer","updatedElements","element","STORAGE_KEY","saveDataInLS","key","hideBtnLoad","showBtnLoad","cartUsage","cartArr","getDataFromLS","createMarkupEmptyCart","renderCards","deleteAllProducts","cartArrItem","cartId","deleteOneProduct","cartList","cartItem","sum","productIndex","item","totalSum","promises","productPrice","cartReplaceUnderscoresWithSpaces"],"mappings":"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"}