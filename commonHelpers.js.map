{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/js/filters.js","../src/js/prodacts-list.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://food-boutique.b.goit.study/api\";\n\n\n// Перелік категорій продуктів\n\nexport async function getProductsCategories() {\n    try {\n        const categories = await axios.get(`${BASE_URL}/products/categories`)\n        return categories;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\ngetProductsCategories().then(categories => console.log(categories));\n\n// Детальна інформація про продукт (ID)\n\nexport async function getProductById(id) {\n    try {\n        const response = await axios.get(`${BASE_URL}/products/${id}`);\n        return response.data;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\nlet productId = \"640c2dd963a319ea671e3676\";\ngetProductById(productId).then(product => console.log(product));\n\n// Перелік популярних продуктів\n\nexport async function getPopularProduct() {\n    try {\n        const popularProducts = await axios.get(`${BASE_URL}/products/popular?limit=5`)\n        return popularProducts;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\ngetPopularProduct().then(product => console.log(product));\n\n// Перелік продуктів зі знижкою\n\nexport async function getDiskountProduct() {\n    try {\n        const diskountProduct = await axios.get(`${BASE_URL}/products/discount`);\n        return diskountProduct;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\ngetDiskountProduct().then(product => console.log(product));\n\n// Перелік продуктів з фільтрацією\n\nexport async function getFilteredProduct({\n    keyword,\n    category,\n    byABC = true,\n    byPrice = false,\n    byPopularity = false,\n    page = 1,\n    limit = 6,\n}) {\n    try {\n        const params = new URLSearchParams({\n    keyword,\n    category,\n    byABC: byABC ? \"true\" : \"false\",\n    byPrice: byPrice ? \"true\" : \"false\",\n    byPopularity: byPopularity ? \"true\" : \"false\",\n    page,\n    limit,\n        })\n        if (keyword) {\n            params.append(\"keyword\", keyword);\n        }\n        const response = await axios.get(`${BASE_URL}/products?${params}`);\n        return response.data;\n    }\n    catch (error) {\n        console.log(error.message);\n    }\n}\n// --перевірка запита\nconst filters = {\n    category: \"Fresh_Produce\",\n    byABC: true,\n    byPrice: false,\n    byPopularity: false,\n    page: 1,\n    limit: 6,\n}\n\ngetFilteredProduct(filters).then(product => console.log(product));\n\n// Оформлення підписки на розсилку нових продуків\n\nconst emailToAdd = {\n    email: \"ssss@Comment.ua\",\n};\n\nexport async function postSubscription(data) {\n    const response = await axios.post(`${BASE_URL}/subscription`, data);\n    return response.data;\n} \n// --перевірка запита\npostSubscription(emailToAdd).then(data => console.log(data)).catch(error => console.log(error.message));\n\n// Оформлення замовлення продуктів\n\nexport async function postOrders(data) {\n    const response = await axios.post(`${BASE_URL}/orders`, data);\n    return response.data;\n}\n// --перевірка запита\nconst orderToAdd = {\n    email: \"ssss@Comment.ua\",\n    products: [{\n        \"productId\": \"640c2dd963a319ea671e383b\",\n        \"amount\": 2\n        }]\n    };\npostOrders(orderToAdd).then(data => console.log(data)); \n\n","import { getProductsCategories } from './api.js';\n\nconst refs = {\n  form: document.querySelector('.categories'),\n};\n\nasync function loadCategories() {\n  try {\n    const categoriesList = await getProductsCategories();\n    const data = categoriesList.data;\n    for (let i = 0; i < data.length; i++) {\n      refs.form.insertAdjacentHTML(\n        'beforeend',\n        `<option value=\"value${[i + 1]}\">${data[i]}</option>`\n      );\n    }\n  } catch (error) {\n    console.log('err');\n  }\n}\n\nloadCategories();\n","// функція для отримання продуктів з сервера\n\nasync function getProductsList(keyword, category, page = 1, limit = 6) {\n  const url = `https://food-boutique.b.goit.study/api/products?keyword=${keyword}&category=${category}&page=${page}&limit=${limit}`;\n\n  try {\n    const response = await fetch(url);\n    const products = await response.json();\n    return products.results;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n    return [];\n  }\n}\n\n//картка продукта\n\nfunction renderProductCard(product) {\n  return `\n    <div class=\"productlist-card\" data-productlist-id=\"${product._id}\">\n      <div class=\"productlist-background\">\n        <img src=\"${product.img}\" alt=\"${product.name}\" class=\"product-image\">\n      </div>\n      <div class=\"productlist-details\">\n        <div class=\"productlist-details-text\">\n          <h2 class=\"productlist-name\">${product.name}</h2>\n          <div class=\"pl-det\">\n          <p class=\"productlist-category\">Category: <span class=\"word\">${product.category}</span></p>\n          <p class=\"productlist-size\">Size: <span class=\"word\">${product.size}</span></p>\n          <p class=\"productlist-popularity\">Popularity: <span class=\"word\">${product.popularity}</span></p>\n          </div>\n          <div class=\"price-icon\">\n          <p class=\"productlist-price\">$${product.price.toFixed(2)}</p>\n          <svg class=\"cart-icon\" width=\"34\" height=\"34\">\n            <use href=\"./src/icons.svg#icon-heroicons-solid_shopping-cart\"></use>\n          </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// Оголошуємо функцію для отримання випадкового масиву продуктів\nfunction getRandomProducts(array, number) {\n  const shuffled = array.sort(() => 0.5 - Math.random());\n  return shuffled.slice(0, number);\n}\n\n// Оголошуємо головну функцію, яка викликається при завантаженні сторінки\nasync function main() {\n  const keyword = 'Ac'; // Ваш ключовий запит\n  const category = 'Fresh_Produce'; // Ваша обрана категорія\n\n  try {\n    const products = await getProductsList(keyword, category);\n    const randomProducts = getRandomProducts(products, 6);\n\n    const productList = document.getElementById('productList');\n    randomProducts.forEach(product => {\n      productList.innerHTML += renderProductCard(product);\n    });\n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\n\n// Викликаємо головну функцію при завантаженні сторінки\ndocument.addEventListener('DOMContentLoaded', main);"],"names":["BASE_URL","getProductsCategories","axios","error","categories","getProductById","id","productId","product","getPopularProduct","getDiskountProduct","getFilteredProduct","keyword","category","byABC","byPrice","byPopularity","page","limit","params","filters","emailToAdd","postSubscription","data","postOrders","orderToAdd","refs","loadCategories","i","getProductsList","url","renderProductCard","getRandomProducts","array","number","main","products","randomProducts","productList"],"mappings":"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"}